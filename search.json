[{"path":[]},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement [INSERT CONTACT METHOD]. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://carpentries.github.io/sandpaper/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.0, available https://www.contributor-covenant.org/version/2/0/ code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https:// www.contributor-covenant.org/translations.","code":""},{"path":"https://carpentries.github.io/sandpaper/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to sandpaper","title":"Contributing to sandpaper","text":"outlines propose change sandpaper. detailed info contributing , tidyverse packages, please see development contributing guide.","code":""},{"path":"https://carpentries.github.io/sandpaper/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to sandpaper","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://carpentries.github.io/sandpaper/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to sandpaper","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://carpentries.github.io/sandpaper/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to sandpaper","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"\", fork = TRUE). Install development dependences devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://carpentries.github.io/sandpaper/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to sandpaper","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://carpentries.github.io/sandpaper/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to sandpaper","text":"Please note sandpaper project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://carpentries.github.io/sandpaper/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 Carpentries Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://carpentries.github.io/sandpaper/SUPPORT.html","id":null,"dir":"","previous_headings":"","what":"Getting help with sandpaper","title":"Getting help with sandpaper","text":"Thanks using sandpaper! filing issue, places explore pieces put together make process smooth possible.","code":""},{"path":"https://carpentries.github.io/sandpaper/SUPPORT.html","id":"make-a-reprex","dir":"","previous_headings":"","what":"Make a reprex","title":"Getting help with sandpaper","text":"Start making minimal reproducible example using reprex package. haven’t heard used reprex , ’re treat! Seriously, reprex make R-question-asking endeavors easier (pretty insane ROI five ten minutes ’ll take learn ’s ). additional reprex pointers, check Get help! section tidyverse site.","code":""},{"path":"https://carpentries.github.io/sandpaper/SUPPORT.html","id":"where-to-ask","dir":"","previous_headings":"","what":"Where to ask?","title":"Getting help with sandpaper","text":"Armed reprex, next step figure ask. ’s question: start community.rstudio.com, /StackOverflow. people answer questions. ’s bug: ’re right place, file issue. ’re sure: let community help figure ! problem bug feature request, can easily return report . opening new issue, sure search issues pull requests make sure bug hasn’t reported /already fixed development version. default, search pre-populated :issue :open. can edit qualifiers (e.g. :pr, :closed) needed. example, ’d simply remove :open search issues repo, open closed.","code":""},{"path":"https://carpentries.github.io/sandpaper/SUPPORT.html","id":"what-happens-next","dir":"","previous_headings":"","what":"What happens next?","title":"Getting help with sandpaper","text":"efficient possible, development tidyverse packages tends bursty, shouldn’t worry don’t get immediate response. Typically don’t look repo sufficient quantity issues accumulates, ’s burst intense activity focus efforts. makes development efficient avoids expensive context switching problems, cost taking longer get back . process makes good reprex particularly important might multiple months initial report start working . can’t reproduce bug, can’t fix !","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Working with Automated Pull Requests","text":"One innovations {sandpaper} ---box integration GitHub Actions supplying several workflows deploy, validate, update lesson. vignette focus latter set workflows: update lesson form. vignette, outline components lesson need updating, demonstrate pull requests requirements set non-carpentries account, demonstrate functions manually update components.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"components-which-need-to-be-updated","dir":"Articles","previous_headings":"","what":"Components which Need to be Updated","title":"Working with Automated Pull Requests","text":"concept {sandpaper} lesson simple: place set markdown R markdown files folder, run command, get website . ’s much different static site generator. makes different , {sandpaper} lesson, longer solely responsible ensuring styling build tools kept --date stripped repository separated three stand-alone packages. , however two places lesson build requirements still live need updating time time: Continuous Integration Workflows (.github/ folder) Lesson Requirements Generated Content (renv/ folder) lesson created {sandpaper} relies deployment workflows live inside .github/ folder ensure can properly deployed, also pull requests can tested validated. Additionally, lesson uses generated content via R Markdown, folder called renv/ repository. folder contain lockfile renv/profiles/lesson-requirements/renv.lock, detail packages required build lesson, along versions specific hash package contents.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"pull-request-updates","dir":"Articles","previous_headings":"","what":"Pull Request Updates","title":"Working with Automated Pull Requests","text":"host lesson one Carpentries’ repositories, automated workflows periodically check updates issue pull requests available updates. pull requests designed minimally invasive predictable ensure lesson remains --date. addition run periodically, can run time going repository > actions selecting one workflows starts “Maintain”. button says “Run Workflow” can push start process checking updates.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"weekly-checks-update-workflows","dir":"Articles","previous_headings":"Pull Request Updates","what":"Weekly Checks: Update Workflows","title":"Working with Automated Pull Requests","text":"weekly basis, workflow located .github/workflows/update-workflows.yaml run update workflow files current versions {sandpaper}. create pull request title “Update Workflows Version X.Y.Z” Carpentries Apprentice Bot. pull request created updates , otherwise, report updates time. Check make sure workflow contains modified workflows .github/workflows/ secrets accidentally divulged.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"monthly-checks-update-lesson-requirements","dir":"Articles","previous_headings":"Pull Request Updates","what":"Monthly Checks: Update Lesson Requirements","title":"Working with Automated Pull Requests","text":"monthly basis, lesson generated content, workflow .github/workflows/update-cache.yaml run check updates lockfile renv/profiles/lesson-requirements/renv.lock. pull request change renv.lock file report pull request packages changed. pull request followed closely comment inform changed generated content based new versions. packages relatively stable, much change. time inspect generated output errors occurr due packages updating expectations dependencies.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"setting-up-a-pull-request-bot","dir":"Articles","previous_headings":"Pull Request Updates","what":"Setting up a Pull Request Bot","title":"Working with Automated Pull Requests","text":"pull requests provided help Carpentries Apprentice Bot. bot available across Carpentries github organisations lesson hosted one organisations, need worry section. hosting lesson like take advantage periodic updates, necessarily need bot account, need access account following aspects Access lesson repository (collaborator self), Personal Access Token registered SANDPAPER_WORKFLOW repository repo workflow scopes","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"creating-a-pat","dir":"Articles","previous_headings":"Pull Request Updates > Setting up a Pull Request Bot","what":"Creating a PAT","title":"Working with Automated Pull Requests","text":"Whether choose use bot account account, need generate new Personal Access Token repo workflow scope. , add context Note field, set expiration date (default 30 days), scroll bottom page select “Generate Token” token appear green box start ghp_. Copy token clicking clipboard symbol immediately right token go repository > settings > secrets select “New Repository Secret” haven’t created SANDPAPER_WORKFLOW secret . Add SANDPAPER_WORKFLOW “Name” field paste token “Value” field.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/automated-pull-requests.html","id":"manual-updates","dir":"Articles","previous_headings":"","what":"Manual Updates","title":"Working with Automated Pull Requests","text":"want create updates manually without using GitHub Actions, two functions available: functions modify files locally like , can use git restore . revert original state.","code":"update_github_workflows()  # updates the package workflows update_cache()      # uses `renv::update()` to check for updates to the package cache"},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"quickstart","dir":"Articles","previous_headings":"","what":"Quickstart","title":"Building Lessons With A Package Cache","text":"working lesson content generated output, guide . get started using local package cache separate default library lessons ensure can reproduce lesson locally. {sandpaper} engine mindful lessons generated content following ways: reliable setup: version lesson built carpentries website build computer packages identical environmentally friendly: lesson dependencies stored default R library alter R environment. transparent: additions deletions cache recorded lockfile, tracked git. get started, need explicitly give {sandpaper} permission create use cache function use_package_cache() NOTE: already used {renv} previously, get notification. Instead, get notification consent already provided. select 1 yes, global package cache created {renv} package sandpaper automatically detect install packages (updates) needed lesson. set cache, can used lessons going forward. example, let’s say lesson uses {cowsay} {curl} packages bring random cat fact end lesson: build lesson, see kind output: output use newly downloaded packages:","code":"library(\"sandpaper\") use_package_cache() #|  #| ── Caching Build Packages for Generated Content ──────────────────────── #| The Carpentries lesson infrastructure uses the renv (R environment) #| package to maintain reproducibility for lessons with generated content. #| It looks like you have not yet used renv before, so this is a one-time #| message that gives you information about how the package cache can help #| you with your lesson. #|  #| renv maintains a local cache of data on the filesystem, located at: #|  #| - \"/path/to/cache\" #|  #| This path can be customized: please see the documentation in #| `?renv::paths`. #|  #| → This may take some time to set up the first time you use it, but once #| the cache is established, the process will run much more quickly. #|  #| If you choose not to use the package cache, be aware that you may find #| differences between the lesson you render on your computer and what is #| rendered online. #|  #| Do you want to using a package cache for Carpentries lessons? #| ── Enter your selection or press 0 to exit ───────────────────────────── #| 1: Yes, please use the package cache (recommended) #| 2: No, I want to use my default library ::::::::::::::::::::::::::::::::::::: keypoints  - Use `.Rmd` files for lessons even if you don\"t need to generate any code - Run `sandpaper::check_lesson()` to identify any issues with your lesson - Run `sandpaper::build_lesson()` to preview your lesson locally  ::::::::::::::::::::::::::::::::::::::::::::::::  ```{r catfact, message=FALSE, echo=FALSE} library(curl) library(cowsay) say(\"catfact\", \"cat\") ``` build_lesson() #| ℹ Consent to use package cache provided #| → Searching for and installing available dependencies #| * Discovering package dependencies ... Done! #| * Copying packages into the library ... Done! #| * Resolving missing dependencies  ...  #| Retrieving \"https://cran.rstudio.com/src/contrib/cowsay_0.8.0.tar.gz\" ... #|  OK [downloaded 564.5 Kb in 0.1 secs] #| Retrieving \"https://cran.rstudio.com/src/contrib/crayon_1.4.1.tar.gz\" ... #|  OK [downloaded 34.9 Kb in 0.1 secs] #| Retrieving \"https://cran.rstudio.com/src/contrib/fortunes_1.5-4.tar.gz\" ... #|  OK [downloaded 188.4 Kb in 0.1 secs] #| Retrieving \"https://cran.rstudio.com/src/contrib/rmsfact_0.0.3.tar.gz\" ... #|  OK [downloaded 10.5 Kb in 0.1 secs] #| Installing crayon [1.4.1] ... #|  OK [built from source] #| Copying crayon [1.4.1] into the cache ... #|  OK [copied to cache in 5.9 milliseconds] #| Installing fortunes [1.5-4] ... #|  OK [built from source] #| Copying fortunes [1.5-4] into the cache ... #|  OK [copied to cache in 5.6 milliseconds] #| Installing rmsfact [0.0.3] ... #|  OK [built from source] #| Copying rmsfact [0.0.3] into the cache ... #|  OK [copied to cache in 5.7 milliseconds] #| Installing cowsay [0.8.0] ... #|  OK [built from source] #| Copying cowsay [0.8.0] into the cache ... #|  OK [copied to cache in 7.5 milliseconds] #| → Restoring any dependency versions #| * The library is already synchronized with the lockfile. #| → Recording changes in lockfile #| The following package(s) will be updated in the lockfile: #|  #| # CRAN =============================== #| - cowsay     [* -> 0.8.0] #| - crayon     [* -> 1.4.1] #| - curl       [* -> 4.3.2] #| - fortunes   [* -> 1.5-4] #| - rmsfact    [* -> 0.0.3] #|  #| * Lockfile written to \"/path/to/lesson/renv/profiles/lesson-requirements/renv.lock\". #| ℹ Using package cache in /path/to/cache #|  #| [ truncated ] ::::::::::::::::::::::::::::::::::::: keypoints  - Use `.Rmd` files for lessons even if you don\"t need to generate any code - Run `sandpaper::check_lesson()` to identify any issues with your lesson - Run `sandpaper::build_lesson()` to preview your lesson locally  ::::::::::::::::::::::::::::::::::::::::::::::::  ```{.output}   --------------  A cat can’t climb head first down a tree because every claw on a cat’s paw points the same way. To get down from a tree, a cat must back down.  --------------     \\       \\         \\             |\\___/|           ==) ^Y^ (==             \\  ^  /              )=*=(             /     \\             |     |            /| | | |\\            \\| | |_|/\\       jgs  //_// ___/                \\_)    ```"},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"temporarily-turning-off-the-cache","dir":"Articles","previous_headings":"Quickstart","what":"Temporarily Turning Off the Cache","title":"Building Lessons With A Package Cache","text":"times might want use cache lesson. can use no_package_cache() lesson default using local library. output use packages available, throw errors exist: want turn , can use use_package_cache() Read information add, update, remove packages cache.","code":"no_package_cache() sandpaper:::build_markdown(rebuild = TRUE) #| ℹ Consent to use package cache not given. Using default library. #| → use `use_package_cache()` to enable the package cache for reproducible builds. #| → You can switch between using your cache and the default library with `options(sandpaper.use_renv = TRUE)` (`FALSE` for the default library) #|  #| [ truncated ] ::::::::::::::::::::::::::::::::::::: keypoints  - Use `.Rmd` files for lessons even if you don\"t need to generate any code - Run `sandpaper::check_lesson()` to identify any issues with your lesson - Run `sandpaper::build_lesson()` to preview your lesson locally  ::::::::::::::::::::::::::::::::::::::::::::::::  ```{.error} Error in library(cowsay): there is no package called \"cowsay\" ```  ```{.error} Error in say(\"catfact\", \"cat\"): could not find function \"say\" ``` use_package_cache() #| ℹ Consent for renv provided---consent for package cache implied."},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"motivation","dir":"Articles","previous_headings":"","what":"Motivation","title":"Building Lessons With A Package Cache","text":"One biggest motivations building lesson infrastructure around {sandpaper} mindful build lessons generated content. moment, explicitly R Markdown lessons, future, possible us expand different engines without changing lesson’s setup. past, ’ve done including script inside lesson template automatically scan dependencies lesson install computer. convenient, drawbacks method alter personal R library packages update, good using R work wanted preserve package versions . ‘renv’ package provides useful interface bring one aspect reproducibility R projects. people working Carpentries lessons also working academics likely projects computer package versions necessary work, ’s important environments respected. flavor renv applies package cache explicitly content lesson, impose default renv environment. provisioner following steps: check consent use package cache via ‘use_package_cache()’ prompt needed check profile created create needed via ‘renv::init()’ populate cache packages needed user’s system download missing via ‘renv::hydrate()’. includes new packages added lesson. lockfile already present, make sure packages cache aligned lockfile (downloading sources needed) via ‘renv::restore()’. Record state cache lockfile tracked git. include adding new packages removing old packages. ‘renv::snapshot()’ lockfile changes, see git power either commit restore changes.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"rebuild-with-the-package-cache","dir":"Articles","previous_headings":"","what":"Rebuild with the Package Cache","title":"Building Lessons With A Package Cache","text":"default, {sandpaper} rebuild files changed content. designed minmize time spent rebuilding lesson actively writing . using package cache, fact remain true even lockfile changes. , designed minimize time spent rebuilding lesson add unrelated, adjacent packages lesson. continuous integration (cloud deployment), change lockfile cause lesson rebuild make sure deployed version lesson matches source truth lockfile. function controls behavior called package_cache_trigger() call without arguments, report TRUE FALSE, indicating changes lockfile trigger rebuild , respectively: might want set TRUE pull changes upstream.","code":"package_cache_trigger() #| [1] FALSE package_cache_trigger(TRUE) # set the package cache to auto-trigger rebuilds #| [1] TRUE package_cache_trigger(FALSE) # prevent package cache from triggering rebuilds #| [1] FALSE"},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"adding-new-pacakges-to-the-cache","dir":"Articles","previous_headings":"","what":"Adding New Pacakges to the Cache","title":"Building Lessons With A Package Cache","text":"{sandpaper} cache records packages needed repository . means want use package, must declared somewhere within lesson either library(package) package::function(). example, wanted use sessioninfo package create record end episode, need add following chunk: , {sandpaper} able detect package add cache. Note: {renv} can detect packages programmatically loaded, one workaround file called episodes/install.R lists installation scripts packages lesson want pin package specific version, read .","code":"```{r sessioninfo, echo = FALSE} sessioninfo::session_info() ```"},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"pinning-specific-package-versions","dir":"Articles","previous_headings":"","what":"Pinning Specific Package Versions","title":"Building Lessons With A Package Cache","text":"pin specific package version (e.g. newest version breaking changes want work release), can use pin_version() function. example, ’s pin {cowsay} package version 0.7.0: record package lockfile next time manage_deps() runs, use correct version.","code":"pin_version(\"cowsay@0.7.0\")"},{"path":"https://carpentries.github.io/sandpaper/articles/building-with-renv.html","id":"updating-the-cache","dir":"Articles","previous_headings":"","what":"Updating the Cache","title":"Building Lessons With A Package Cache","text":"want update packages package cache, can use function fetch_updates(). requires internet connection scan packages lesson potential updates ask want update . update packages package cache lockfile.","code":"update_cache(prompt = TRUE)"},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"why-rmarkdown","dir":"Articles","previous_headings":"","what":"Why RMarkdown?","title":"Building and Deployment of a {sandpaper} lesson","text":"decided using RMarkdown format powerful tool allows write code text without copy paste output/images/tables. support several languages including python, BASH, SQL. importantly: code rendering features purely optional; can strip away R-associated content left markdown document. system already used R lessons several years works fairly well.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"the-two-step-building-locally","dir":"Articles","previous_headings":"","what":"The Two-Step: Building Locally","title":"Building and Deployment of a {sandpaper} lesson","text":"preview lessons, build static files locally, without servers. possible go directly RMarkdown HTML, use two-step process: Generate static markdown source files hash original file YAML header Using external style template, generate website HTML built markdown files NOTE: need make sure renv environment defined lessons, think need happen things released CRAN avoid maxing github api requests. diagram building local lesson website Now, first reaction may , “need two step process can generate HTML directly RMarkdown?” answer three-fold. First, R code RMarkdown document, takes time execute code add output document. intermediate markdown document contains hash original document, can make sure build files changed content minimal overhead manner compatible RMarkdown’s chunk caching feature. Second, generated element page creates invalid HTML, usually causes cascading effect can hard track looking raw HTML output. markdown intermediate allows us easily single potential problems. particular reason important next section scheduled deployments avoid problems raised explicitly checking output. Third, rendered markdown documents makes easy use HTML pandoc templates provided Carpentries. might also wondering “aren’t rendered markdown HTML files tracked git?” answer , , just computer.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"i-deployment-github","dir":"Articles","previous_headings":"","what":"[i] Deployment (GitHub)","title":"Building and Deployment of a {sandpaper} lesson","text":"lesson content auto-generated ecosystem software constantly evolving, ’s important make sure things true: website always available (barring blackouts GitHub) style lessons can updated fly. output lessons match maintainers expect. Changes lesson output easily auditable via git diff. two sources entropy (software environment needed build lesson content CSS/HTML/JS needed create website), ’s important separate steps failure, separate allows us audit failure fix issue appropriate end. Thus, use two-step system presented earlier local rendering, weekly monthly checks: Diagrammatic representation GitHub deployment cycle Zooming Pull request workflow can see one point entry. box elements represent user interactions, ellipses GitHub workflows. color indicates permission levels workflows. Lavender workflows ability check code compare . Wheat/yellow colored workflows full permissions push repository: Representation PR deployment cycle track source files lesson output maintainer’s computer, need rely Continuous Integration rebuild lesson deploy cloud. still use two-step process , difference don’t want make extra commits main branch, instead creating commits two extra directories, create orphan branches called md-sources gh-pages. latter familiar lesson maintainers, former serves staging evaluation area changes generated content. Dependency relationship components Lesson Template Takeaway diagram: Yes, complex, modularity ensures can replace components without needing significantly modify components. diagram describes dependency graph lesson template. component graph represents either file (beige files/folders/documents) tools (boxes). edges (lines connecting components) categorized following labels: depends (e.g. -> b means component depends component b). usually reserved lesson artifacts generated markdown HTML. component dependent another component, means can exist without upstream component. Changes upstream component can happen independently downstream component, changes affect state downstream component. uses (e.g. -> b means component uses aspects component b). relationship, components independent can change independent one another without necessarily affecting state . contains (e.g. -> b means component contains component b). component contains another component must change contained component changes. example, changes package cache lockfile requires corresponding commit source files. modifies (e.g. -> b means component modifies component b). Modification occurs component agent change downstream component, changes upstream component necessarily correspond change downstream component. example GitHub Actions component one graph can modify components (including ), undergo change update frequency, necessarily affect changes downstream components see.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"push-to-main-branch","dir":"Articles","previous_headings":"[i] Deployment (GitHub)","what":"Push to main branch","title":"Building and Deployment of a {sandpaper} lesson","text":"time commit pushed main branch, command sandpaper::ci_deploy() run GitHub actions render changed source files main md-source apply HTML template, {varnish} files md-source create website. process assumes pushes main branch break rendering process either cosmetic changes changes come pull requests (previously vetted). extra maintainer interaction required.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"pull-requests","dir":"Articles","previous_headings":"[i] Deployment (GitHub)","what":"Pull requests","title":"Building and Deployment of a {sandpaper} lesson","text":"time pull request added, maintainer informed changes lesson (anything), process goes like : pull request triggers new branch md-sources called md-sources-{pr#}. PR built md-sources-{pr#} diff md-sources-{pr#} md-sources added PR comments link. additional commits PR branch rebuilt changes amended md-sources-{pr#} branch (effectively, squash merge) maintainer approves changes, PR gets merged master, site rebuilt source, pr branch removed.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"cron-weekly-updating-the-html-templates","dir":"Articles","previous_headings":"[i] Deployment (GitHub)","what":"CRON: weekly (updating the HTML templates)","title":"Building and Deployment of a {sandpaper} lesson","text":"mentioned , HTML templates live within lesson repository. live {varnish} package applied rendered markdown files. step start md-source branch re-apply fresh version template bring stylistic changes occurred {varnish} repository (e.g. new CSS rules) previous week. step test HTML template working correctly. error occurs, know need fix HTML template lesson. maintainer interaction required.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/deployment.html","id":"cron-monthly-keeping-software-current","dir":"Articles","previous_headings":"[i] Deployment (GitHub)","what":"CRON: monthly (keeping software current)","title":"Building and Deployment of a {sandpaper} lesson","text":"weekly CRON jobs ensure HTML template works, run monthly jobs make sure software stack continues work expected. important making sure generated output matches output learners see narrative additionally matches output. explicitly test changes lesson due changes software stack HTML template. many changes produce technically valid output, Manual inspection diffs required. six steps process, one requires maintainer’s input: new branch created main format YYYY-MM. {renv} configuration file YYYY-MM reset Pull Request created. maintainer follows regular pull request protocol.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/internationalisation.html","id":"structural-elements-l10n","dir":"Articles","previous_headings":"","what":"Structural Elements (l10n)","title":"Internationalisation (i18n) and Localisation (l10n)","text":"first issue common websites several available solutions exits several languages. moment, Carpentries website supports l10n low-rent manner including yaml dictionary _data directory switching languages via site.data.language variable (shown example translates “content open source”). Though, exactly accessible via main site clear. make sure translations compatible matter tooling use (R, Python, JavaScript, PhP), store translations *.po (portable object) language can use gettext() utility swap translations. associated lesson template , *po files live {varnish} package used R translate messages website generated.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/internationalisation.html","id":"references-and-definitions","dir":"Articles","previous_headings":"","what":"References and Definitions","title":"Internationalisation (i18n) and Localisation (l10n)","text":"References definitions achieved via {glosario} project glossary formatted yaml file python, R libraries can used extract specific translations glossaries.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/internationalisation.html","id":"page-content-i18n","dir":"Articles","previous_headings":"","what":"Page Content (i18n)","title":"Internationalisation (i18n) and Localisation (l10n)","text":"topic currently well addressed quite hard translating prose much harder translating individual messages context individual paragraph section important. David Pérez-Suárez proposed use {gettext} solution standard translating messages several computer programs. found python + BASH project called po4gitbook convert markdown content po files translation back . However, ’s finding breaks lot parsing markdown elements like lists R chunks. ’m thinking solution use parse markdown commonmark XML spec use extract paragraph elements, recast markdown use basis translated messages. way, parsing won’t issue. big challenge library re-written happen.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Landscape View of New Lesson Template","text":"new lesson infrastructure lot moving parts, built solid foundation clearly separates content tooling needed. Importantly, order use infrastructure, need know much works hood. Importantly: beginner’s guide. looking resource, head sandpaper documentation site. document serves kind “nerd’s guide” lesson infrastructure. steps back takes landscape-level view infrastructure works differs previous infrastructure.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"motivation","dir":"Articles","previous_headings":"Introduction","what":"Motivation","title":"Landscape View of New Lesson Template","text":"lesson maintainers contributors volunteers, means limited amount time work lessons. lesson infrastructure simple framework contributors maintainers write lessons way maximizes attention lesson content.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"difficulties-with-the-previous-infrastructure","dir":"Articles","previous_headings":"Introduction","what":"Difficulties with the previous infrastructure","title":"Landscape View of New Lesson Template","text":"Jekyll-based lesson template showing age recently ’s clear refresh sorely needed. Chief among issues Jekyll template currently requires 4 languages (top Git) minimum installed order preview locally: Ruby, Python, Bash, Make. setup represents large barrier people coming lesson maintenance first time clearly issue include videos people use github-based workaround preview lessons. Beyond initial setup contributors, another pain point reliance styles inside lesson convoluted manner lesson must created: must imported carpentries/styles repository history preserved maintainer can initialize lesson. time comes update lesson, expect maintainer touched styling elements machinery merge happens conflicts, rarely case initiate merge fix conflicts. inspect process adding updating content lesson, find still places frustration. configuration file contains several pieces information necessary site, must never touched. Moreover, header yaml lesson contains three lists, objectives, keypoints, questions, formatted strings included body rendered lesson. issue ’s easy become invalid due misplaced punctuation. Linking images lived top repository difficult authoring special block quotes challenging writing content always preceded > proved error prone.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"what-the-new-infrastructure-will-bring","dir":"Articles","previous_headings":"Introduction","what":"What the new infrastructure will bring","title":"Landscape View of New Lesson Template","text":"new lesson infrastructure, strive clear template clutter allow contributors focus important: lesson content written clear easy--read markdown. Importantly, lessons still portable customisable engine, validator, styling live separate independent software packages. Lessons official Carpentries GitHub accounts also benefit automation provide timely updates elements needed build lessons (case lessons generated output). document outline aspects new lesson template describe organized aspects including folder structure lesson, content specifications episode, content specifications extra-episode files (e.g. references), toolchain landscape, local build requirements, deployment specifications, internationalization (i18n) specifications.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"notation","dir":"Articles","previous_headings":"","what":"Notation","title":"Landscape View of New Lesson Template","text":"document intended extensive targeted lesson maintainers infrastructure team. overly-detailed descriptions infrastructure maintainers required know, label points [] maintainers can skip sections needed.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"foundation-structure-of-the-lesson-template","dir":"Articles","previous_headings":"","what":"Foundation: Structure of the Lesson Template","title":"Landscape View of New Lesson Template","text":"section discuss structure template terms file organization go aspects specific tools. new lesson template designed mimic aspects previous template. template designed primarily use Carpentries, theoretically extensible contexts. importantly, contributors expected know markdown minimal yaml syntax. order contribute lessons. Thus, rules new template follow: main branch source truth protected Accessibility priority lesson based WCAG 2.1 guidelines style lessons live template committed content content directly maintainer/contributor configuration files Episodes depend lesson template rendered generated lesson web page exist stand-alone directory can shared offline","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"accessibility","dir":"Articles","previous_headings":"","what":"Accessibility","title":"Landscape View of New Lesson Template","text":"exceptions, lessons shown largely accessible thanks reliance modern frameworks hosting lessons. said, occasional issues WCAG 2.1 accessibility guidelines provides roadmap ensure lessons Perceivable, Operable, Understandable, Robust.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"lesson-folder-organization","dir":"Articles","previous_headings":"","what":"Lesson Folder Organization","title":"Landscape View of New Lesson Template","text":"lesson template organized clearly separates lesson content lesson style:","code":"|-- .gitignore               # - Ignore everything in the site/ folder |-- .github/                 # - Scripts used for continuous integration |-- episodes/                # - PUT YOUR MARKDOWN FILES IN THIS FOLDER |   |-- data/                # -- Data for your lesson goes here |   |-- figures/             # -- All static figures and diagrams are here |   |-- files/               # -- Additional files (e.g. handouts)  |   `-- 00-introducition.Rmd # -- Lessons start with a two-digit number |-- instructors/             # - Information for Instructors |   `-- instructor-notes.md  # -- placeholder |-- learners/                # - Information for Learners |   `-- setup.md             # -- setup instructions (REQUIRED) |-- profiles/                # - Learner and/or Instructor Profiles |   `-- learner-profiles.md  # -- placeholder |-- renv/                    # - Local package cache |-- site/                    # - This folder is where the rendered markdown |   |                            files and static site will live |   `-- README.md            # --  placeholder |-- config.yaml              # - Use this to configure commonly used variables |-- index.md                 # - Front page for the site |-- CONTRIBUTING.md          # - Carpentries Rules for Contributions (REQUIRED) |-- CODE_OF_CONDUCT.md       # - Carpentries Code of Conduct (REQUIRED) |-- LICENSE.md               # - Carpentries Licenses (REQUIRED) `-- README.md                # - Introduces folks how to use this lesson and                              #   where they can find more information."},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"episodes","dir":"Articles","previous_headings":"Lesson Folder Organization","what":"Episodes","title":"Landscape View of New Lesson Template","text":"episodes content required episodes go episodes/ folder (note underscore prefix) extract episodes folder give someone else, able execute RMarkdown documents project using method see fit.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"configuration","dir":"Articles","previous_headings":"Lesson Folder Organization","what":"Configuration","title":"Landscape View of New Lesson Template","text":"file config.yaml minimal yaml file contains metadata lesson-wide aspects (Author, Carpentry, Licence, Title, etc.) along specifications episodes extras included dropdown menus.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"generated-files","dir":"Articles","previous_headings":"Lesson Folder Organization","what":"Generated Files","title":"Landscape View of New Lesson Template","text":"two sources generated files template explicitly tracked git, live site/ directory: static markdown cache generated source files local preview HTML files, generated static markdown files. Separating content generation episode assembly HTML site gives us couple advantages: can cache episodes content generation HTML styling tools needed generate static markdown documents need tools needed apply HTML template (e.g. potentially feasible workflow renders Jupyter Notebook -> Markdown instead RMarkdown -> Markdown). error occurs, assess process source error require sifting HTML diffs. two step process explained Two-Step: Building Locally.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"i-static-markdown-cache","dir":"Articles","previous_headings":"Lesson Folder Organization > Generated Files","what":"[i] Static Markdown Cache","title":"Landscape View of New Lesson Template","text":"static markdown cache files live site/built contain static markdown documents generated output special item yaml header called sandpaper-digest. value item md5 sum corresponding source file tool chain can determine files need rebuilt.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"local-preview-html","dir":"Articles","previous_headings":"Lesson Folder Organization > Generated Files","what":"Local Preview HTML","title":"Landscape View of New Lesson Template","text":"local preview generated website live site/docs folder. site generated static markdown cache site/built source. site/docs folder can shared anywhere fully-functional static website. Many javascript CSS elements sourced CDNs, can also bundled directly site (increases size storage).","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"portable-html-lesson","dir":"Articles","previous_headings":"Lesson Folder Organization > Generated Files","what":"Portable HTML Lesson","title":"Landscape View of New Lesson Template","text":"thing preventing lessons used offline fact rely CSS/JS framework delivered CDN, may feasible workshops taught regions internet connectivity limited (though browser cache takes care part). accomodate , procedure creates standalone folder lesson writes outside repository can copied flash drive delivered via local WiFi router.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"episode-structure","dir":"Articles","previous_headings":"","what":"Episode Structure","title":"Landscape View of New Lesson Template","text":"episodes Carpentries stand-alone markdown documents can render valid HTML via pandoc without external dependencies. structure episode largely free-form, certain elements included ensure valid episode form yaml content, required information blocks, instructor notes, properly closed fenced div tags. refresher, fenced div tag line starts least three colons followed name tag. tag closed adding another line starts least three colons tag end: convention, use much 3 : characters clearly indicate block created.","code":"::::::::::::::::::::::::::: challenge  This is a *challenge block*  ::::::::::::::::::::::::::::::::::::::"},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"yaml-metadata","dir":"Articles","previous_headings":"Episode Structure","what":"YAML metadata","title":"Landscape View of New Lesson Template","text":"YAML metadata contain three elements, title, teaching, exercises. title character string title. Markdown can used title. teaching exercises number cumulative minutes required teach lesson complete exercises, respectively. used populate syllabus beginning lesson","code":"title: \"Creating Examples: Yes, These *Are* Difficult\" teaching: 20 exercises: 10"},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"required-information-blocks","dir":"Articles","previous_headings":"Episode Structure","what":"Required Information Blocks","title":"Landscape View of New Lesson Template","text":"Objectives (top) - One three statements describes broad concepts learners get lesson Questions (top) - One three questions learners ask start lesson Keypoints (bottom) - point--point reinforcement covered lesson reduce amount friction contributors write displayed lesson, placement enforced validation procedure validated checking proximity blocks elements document XML representation. blocks comply, human-readable alert generated indicating block moved (example error):","code":"Error:     File: '/path/to/episode.Rmd'          The Questions block should be at the top of the document (lines AA--BB).     Instead, they are located at lines XX--YY. Please edit     '/path/to/episode.Rmd'     and move the block at lines XX--YY to the top of the document (lines     AA--BB)."},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"instructor-notes","dir":"Articles","previous_headings":"Episode Structure","what":"Instructor Notes","title":"Landscape View of New Lesson Template","text":"Carpentries lessons traditionally kept instructor notes separate page lessons, lead notes used confusion use . proposed keep instructor notes inside lessons risk creating longer even complicated structure maintainers keep track . acommodate , propose new class tag called instructor, hidden default toggle can display notes alongside lesson. instructor tag tags, starting least three colons ending least three colons: Practically, instructor notes lesson, rendered separate pages placed file called instructor/ can accessed via /path//lesson/instructor/page.html","code":":::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: instructor  ## SLOW DOWN  :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"fenced-div-tags","dir":"Articles","previous_headings":"Episode Structure","what":"Fenced Div Tags","title":"Landscape View of New Lesson Template","text":"open tags must balanced closing tag. specification fenced divs fairly loose, clarity’s sake, rules thumb. tags necessarily color-coded, ’s good idea differentiate tags length. need specific length, ’s good idea make sure different level tags clearly visible. Instructor tags largest. Aim fences span across document (~80 characters). Top-level tags span least half document (~50 characters). Nested tags (e.g. solution) span quarter document (~25 characters).","code":"# Lesson 1   This is an example lesson.  :::::::::::::::::::::::::::::::::::::: objectives   - Write good   :::::::::::::::::::::::::::::::::::::::::::::::::  :::::::::::::::::::::::::::::::::::: questions   - Is it okay if the number of colons don't match up?  - Are the sections visible?  ::::::::::::::::::::::::::::::::::::::::::::::::  ## Introduction  Writing tags looks like a bunch of `:` elements.  :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: instructor  ### Example  This is an example of how you write an instructor tag  :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::   Let's try a challenge.  :::::::::::::::::::::::::::::::::::::: challenge  Write a solution  ::::::::::::::: solution  NaCl + H2O  :::::::::::::::::::::::: ::::::::::::::::::::::::::::::::::::::::::::::::"},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"links","dir":"Articles","previous_headings":"Episode Structure","what":"Links","title":"Landscape View of New Lesson Template","text":"Carpentries Lessons, contributors need ways specifying links can access part lesson online offline. also need make sure links preserve integrity incoming links people linked lessons past want discover links suffering rot. ultimate goal make sure lesson contributors authors think much beyond see order create link. simplest way authors use relative links html tag end: Link episodes: use [link text](episode-name.html) Link figure episode: use ![Alt text](fig/figure-name.png) Link references extras folder: [link text](../extras/references.html)","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"code-blocks","dir":"Articles","previous_headings":"Episode Structure","what":"Code Blocks","title":"Landscape View of New Lesson Template","text":"Code Blocks lesson formatted way code blocks formatted commonmark. represented three backtics followed language want use syntax highlighting block.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/landscape.html","id":"evaluation","dir":"Articles","previous_headings":"Episode Structure > Code Blocks","what":"Evaluation","title":"Landscape View of New Lesson Template","text":"encouraging use RMarkdown, can code blocks actually evaluate code using RMarkdown chunk syntax three backtics followed pair curly braces name language engine want use executing code blocks. moment, explicitly support evaluation R BASH, gathering input maintainers processes expand. One promising project Quarto, extends functionality R Markdown languages cross-platform, stand-alone binary program. large list language engines RMarkdown supports. engines require language available PATH share variables values chunks, lesson authors need explicit installation requirements lessons. languages like Python, Julia, SQL can share data variables chunks help specific packages (e.g. {reticulate} Python, {JuliaCall} Julia, {DBI} SQL databases).","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"basic-infrastructure-for-maintainers","dir":"Articles","previous_headings":"","what":"Basic Infrastructure for Maintainers","title":"The nerd's guide to the lesson toolchain","text":"manage render lessons, need following software installed. dependencies R packages automatically install. {sandpaper} {varnish} RStudio (>= 1.4) pandoc (>= 2.11) Modern Web Browser Git (>= 2.0) {renv}","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"the-source-of-truth-dependency-management","dir":"Articles","previous_headings":"","what":"The Source of Truth: Dependency Management","title":"The nerd's guide to the lesson toolchain","text":"Python R package ecosystem constantly evolving, can often create different outputs one maintainer’s computer . Moreover, maintain lesson, may want update package using thesis work. alleviate problems, use {renv} R package managing dependencies lessons. managing dependencies, {renv} serves two roles: Package discovery {renv} scan packages declared lesson install computer Package management Lessons use {renv} maintains custom lockfile contains packages required build lesson specific versions, ensuring lesson can reliably reproduced across computers. point, {renv} required building lesson even generated content. can find use {renv} build process reading Building Lessons Package Cache vignette.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"for-markdown-only-lessons","dir":"Articles","previous_headings":"The Source of Truth: Dependency Management","what":"For Markdown-Only Lessons","title":"The nerd's guide to the lesson toolchain","text":"markdown-lesson evaluated code (, copy paste output learners see), need worry dependency management beyond basic infrastructure (taken care automatically).","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"for-rmarkdown-lessons-r-bash-python-sql","dir":"Articles","previous_headings":"The Source of Truth: Dependency Management","what":"For RMarkdown Lessons (R, BASH, Python, SQL)","title":"The nerd's guide to the lesson toolchain","text":"lesson uses RMarkdown evaluate code produce output, utmost importance dependencies managed properly lesson. Like Jekyll-based lesson template, take care making sure dependencies okay, difference now ask approve everyone experience. {renv} package relatively stripped-interface, wanted provide opinionated solution management. example, learners advised install anaconda, also encourage recommend. {renv} package aware R Python dependencies, can install add packages lesson usual run single command sandpaper::deps() check update dependencies. Python dependencies live environment.yml file root lesson. moment, bit lives shaky foundation","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"carpentries-specific-packages","dir":"Articles","previous_headings":"","what":"Carpentries-Specific Packages","title":"The nerd's guide to the lesson toolchain","text":"created three R packages designed work explicitly lessons. automatically installed special configuration file inside lesson repository.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"lesson-template-sandpaper","dir":"Articles","previous_headings":"Carpentries-Specific Packages","what":"Lesson Template ({sandpaper})","title":"The nerd's guide to the lesson toolchain","text":"{sandpaper} package creates curates lesson template. package maintainers lesson template need interface . majority maintainers need one function: build_lesson(), evaluate new content render HTML page local machine.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"i-key-packages","dir":"Articles","previous_headings":"Carpentries-Specific Packages > Lesson Template ({sandpaper})","what":"[i] Key Packages","title":"The nerd's guide to the lesson toolchain","text":"{sandpaper} package relies heavily packages internally make sure reinvent wheel much gain benefits tests: workflow sandpaper {pkgdown} provides scaffolding us able wrap HTML (translated markdown) metadata framework can live separately lesson template. {knitr} engine use translate RMarkdown Markdown without styling output document. {rmarkdown} provides functions give us access pandoc. moment, function use RMarkdown pandoc_convert() transform markdown HTML. {usethis} provides user interface functions creating projects working github. {gert} gives users access git R without need installed.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"i-html-template-varnish","dir":"Articles","previous_headings":"Carpentries-Specific Packages","what":"[i] HTML Template ({varnish})","title":"The nerd's guide to the lesson toolchain","text":"{varnish} package contains template HTML written {{mustache}} templating language. used {sandpaper}, explicitly imported updating can done inside R.","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"framework","dir":"Articles","previous_headings":"Carpentries-Specific Packages > [i] HTML Template ({varnish})","what":"Framework","title":"The nerd's guide to the lesson toolchain","text":"NOTE: section needs work information. framework inside {varnish} needs extensible , importantly, separate logic needed create source documents. moment, using bootstrap version 3, version officially deprecated last two years.. moment, two frameworks widely used within R community, bootstrap, distill. benefits distill ’s really nice including citation metadata, one downsides absolutely requires JavaScript enabled (can security risk).","code":""},{"path":"https://carpentries.github.io/sandpaper/articles/toolchain.html","id":"i-lesson-validation-and-transformation-pegboard","dir":"Articles","previous_headings":"Carpentries-Specific Packages","what":"[i] Lesson Validation and Transformation ({pegboard})","title":"The nerd's guide to the lesson toolchain","text":"{pegboard} package uses {tinkr} package read markdown XML validate structure schema validate internal structure lessons.","code":""},{"path":"https://carpentries.github.io/sandpaper/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Zhian N. Kamvar. Author, maintainer. François Michonneau. Contributor.","code":""},{"path":"https://carpentries.github.io/sandpaper/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kamvar Z (2022). sandpaper: Create Curate Carpentries Lessons. R package version 0.3.0, https://github.com/carpentries/sandpaper/.","code":"@Manual{,   title = {sandpaper: Create and Curate Carpentries Lessons},   author = {Zhian N. Kamvar},   year = {2022},   note = {R package version 0.3.0},   url = {https://github.com/carpentries/sandpaper/}, }"},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"sandpaper-user-interface-to-the-carpentries-workbench-","dir":"","previous_headings":"","what":"The Carpentries Lesson Infrastructure Engine","title":"The Carpentries Lesson Infrastructure Engine","text":"{sandpaper} package created Carpentries re-imagine method creating lesson websites workshops. package take series Markdown RMarkdown files generate static website features styling Carpentries lessons including customized layouts callout blocks. Much functionality package inspired Jenny Bryan’s work {usethis} package. Please note: {sandpaper} much work progress. Please open issue comments suggestions!","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"The Carpentries Lesson Infrastructure Engine","text":"Want know works lesson format? Head https://carpentries.github.io/sandpaper-docs/. , instead, already know lesson built interested understanding functions {sandpaper} work, can visit package documentation site https://carpentries.github.io/sandpaper/.","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"The Carpentries Lesson Infrastructure Engine","text":"{sandpaper} currently CRAN, can installed Carpentries Universe (updated every hour) following commands: Note also install development versions following packages:","code":"options(repos = c(   carpentries = \"https://carpentries.r-universe.dev/\",    CRAN = \"https://cran.rstudio.com/\" )) install.packages(\"sandpaper\", dep = TRUE)"},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"design","dir":"","previous_headings":"","what":"Design","title":"The Carpentries Lesson Infrastructure Engine","text":"package designed make life lesson contributors maintainers easier separating tools needed build site user-defined content site . longer rely Jekyll >450 static site generators, instead rely R, RStudio, {pkgdown} generate site following features: optional offline use filename-agnostic episode arrangements clear definitions package versions needed build lesson lesson versioning (e.g. can navigate https://swcarpentry.github.io/python-novice-gapminder current version https://swcarpentry.github.io/python-novice-gapminder/2020-11 release 2020-11) seamless updates Carpentries’ style caching rendered content rapid deployment packaging {learnr} materials validation lesson structure git aware, require contributors git installed","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"rendering-locally","dir":"","previous_headings":"Design","what":"Rendering locally","title":"The Carpentries Lesson Infrastructure Engine","text":"repository generated via {sandpaper}, source committed avoid issues surrounding --date artefacts directory structure confusion. website generated two steps: markdown files source files rendered containing hash source file need re-rendered change. html files generated rendered markdown files CSS JS sources {varnish} package preview. ensure clashes minor differences user setup, artifacts committed main branch repository. caching mechanism website rendered markdown files, long-running lessons can updated previewed quickly.","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"rendering-on-continuous-integration","dir":"","previous_headings":"Design","what":"Rendering on continuous integration","title":"The Carpentries Lesson Infrastructure Engine","text":"Continuous integration act single source--truth outputs lessons rendered. , want resulting website : CI agnostic (currently set GitHub) easy set auditable (e.g. can see changes content two commits) versionable (e.g. can instruct learners go <WEBSITE>/1.1. inspired python documentation style) acheive , two branches created: md-outputs gh-pages inerit like main -> md-outputs -> gh-pages. build time main md-outputs can time intensive, default updating files changed. md-outputs: branch contain files artifacts generated rmarkdown vignettes directory thin package skeleton. gh-pages: branch generated via md-outputs bundles html, css, js website. contain single index.html file several subfolders different versions site. index.html file redirect current/ directory, contains --date site.","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"scheduled-builds","dir":"","previous_headings":"Design > Rendering on continuous integration","what":"Scheduled builds","title":"The Carpentries Lesson Infrastructure Engine","text":"gh-pages website: designing lessons content separated styling, set CI generate webpage pre-built sources weekly basis, check update styles ({varnish} package) rebuild site without rebuilding content. md-outputs branch: rerun every month scratch recent version R R packages. change, pull request can generated update renv.lock file link changed markdown files branch.","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"function-syntax","dir":"","previous_headings":"Design","what":"Function syntax","title":"The Carpentries Lesson Infrastructure Engine","text":"functions {sandpaper} following prefixes: create_ create/amend files folders workspace update_ update build resources lesson build_ build files source check_ validates either elements lesson /episodes fetch_ download files resources internet reset_ removes files information get_ retrieve information source files R object set_ update information files. ci_ interacts continous integration build website working list user-facing functions: Lesson Episode Creation create_lesson() creates lesson scratch create_episode() creates new episode correct number prefix create_dataset() creates csv text data set R object set_episodes() arranges episodes user-specified order Accessors get_config() reads contents config.yaml list get_drafts() reports files listed config.yaml get_episodes() returns episode filenames vector get_syllabus() returns syllabus timings, titles, questions Website Creation Validation check_lesson() checks validates source files lesson structure build_episode_md() renders individual file markdown (internal use) build_episode_html() renders built markdown file html (internal use) build_lesson() builds lesson static website build_portable_lesson() builds lesson portable static website fetch_lesson() fetches static website lesson repository Continuous Integration Utilities ci_deploy() builds deploys lesson CI source files ci_build_markdown() builds markdown files CI source deploys markdown branch. ci_build_site() deploys lesson CI pre-rendered markdown files ci_release() builds deploys lesson CI source files adds release tag update_github_workflows() updates GitHub workflows Cleanup reset_episodes() removes schedule config.yaml file reset_site() clears website cache","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"The Carpentries Lesson Infrastructure Engine","text":"five use-cases {sandpaper}: Creating lessons Contributing lessons Maintaining lessons Rendering portable site Rendering site GitHub actions.","code":""},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"creating-a-lesson","dir":"","previous_headings":"Usage","what":"Creating a lesson","title":"The Carpentries Lesson Infrastructure Engine","text":"create lesson {sandpaper}, use create_lesson() function: create folder desktop called r-intermediate-penguins following structure: site set , can add RMarkdown files episodes folder. default, built alphabetical order, can use set_episodes() command build schedule config.yaml file: want preview site, use following: using RStudio, can preview lesson site using keyboard shortcut ctrl + shift + B (corresponds “Build Website” button “Build” tab. preview individual files, can use ctrl + shift + K (corresponds “Knit” button editor pane) create website structure inside site/ folder, render RMarkdown files markdown (inspection quick rendering), render markdown files HTML, enable preview within browser window.","code":"sandpaper::create_lesson(\"~/Desktop/r-intermediate-penguins\") |-- .gitignore               # - Ignore everything in the site/ folder |-- .github/                 # - Scripts used for continuous integration |   `-- workflows/           # |       |-- deploy-site.yaml # -   Build the source files on github pages |       |-- build-md.yaml    # -   Build the markdown files on github pages |       `-- cron.yaml        # -   reset package cache and test |-- episodes/                # - PUT YOUR MARKDOWN FILES IN THIS FOLDER |   |-- data/                # -   Data for your lesson goes here |   |-- figures/             # -   All static figures and diagrams are here |   |-- files/               # -   Additional files (e.g. handouts)  |   `-- 00-introducition.Rmd # -   Lessons start with a two-digit number |-- instructors/             # - Information for Instructors |-- learners/                # - Information for Learners |   `-- setup.md             # -   setup instructions (REQUIRED) |-- profiles/                # - Learner and/or Instructor Profiles |-- site/                    # - This folder is where the rendered markdown files and static site will live |   `-- README.md            # -   placeholder |-- config.yaml              # - Use this to configure commonly used variables |-- CONTRIBUTING.md          # - Carpentries Rules for Contributions (REQUIRED) |-- CODE_OF_CONDUCT.md       # - Carpentries Code of Conduct (REQUIRED) |-- LICENSE.md               # - Carpentries Licenses (REQUIRED) `-- README.md                # - Introduces folks how to use this lesson and where they can find more information. s <- sandpaper::get_episodes() sandpaper::set_episodes(order = s, write = TRUE) sandpaper::build_lesson()"},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"contributing-to-a-lesson","dir":"","previous_headings":"Usage","what":"Contributing to a Lesson","title":"The Carpentries Lesson Infrastructure Engine","text":"contribute lesson, can either fork lesson repository clone computer manually GitHub, can use {usethis} package automate . example, can create copy Programming R computer’s Desktop. copy source files computer move directory. Note rendered website immediately available. download site currently appears web, use: download site rendered markdown files site/ folder. save bandwidth, can choose just download markdown files artifacts settin site = FALSE. Now, can edit Rmarkdown files episodes/ quickly render site. upload changes lesson repository, can use follow","code":"usethis::create_from_github(   repo = \"swcarpentry/r-novice-gapminder\",    destdir = \"~/Desktop/r-novice-gampinder\",   fork = TRUE ) sandpaper::fetch_lesson(markdown = TRUE, site = TRUE)"},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"maintaining-a-lesson","dir":"","previous_headings":"Usage","what":"Maintaining a Lesson","title":"The Carpentries Lesson Infrastructure Engine","text":"maintaining lesson, high likelihood already copy machine. , follow instructions contributing lesson section . typical workflow look like : open sandpaper project RStudio make edits files episodes/ folder R console run following","code":"sandpaper::check_lesson() # validates the structure of the input files sandpaper::build_lesson() # builds and validates lesson"},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"rendering-a-portable-site","dir":"","previous_headings":"Usage","what":"Rendering a portable site","title":"The Carpentries Lesson Infrastructure Engine","text":"render portable site, can follow instructions contributing lesson maintaining lesson set . lesson set , can use following command: render fully portable lesson site zip file site/ folder. can distribute lesson learners reliable internet access use offline without sacrificing styling.","code":"sandpaper::build_portable_lesson(version = \"current\")"},{"path":"https://carpentries.github.io/sandpaper/index.html","id":"rendering-with-github-actions","dir":"","previous_headings":"Usage","what":"Rendering with GitHub actions","title":"The Carpentries Lesson Infrastructure Engine","text":"Ultimately, minimal number functions handle situation writing CI configuration files maddening. straightforward function : function create git worktrees orphan md-outputs branch site/built folder orphan gh-pages branch site/docs folder. , generate site normal. css js libraries may need updating lesson material , step can created just rebuilding site uses: lesson given release, current site folder needs duplicated versioned folder tag needs added md-outputs branch:","code":"sandpaper::ci_deploy(md_branch = \"md-outputs\", site_branch = \"gh-pages\") sandpaper::ci_build_site(branch = \"gh-pages\") sandpaper::ci_release(tag = \"0.1\", md_branch = \"md-outputs\", site_branch = \"gh-pages\")"},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_html.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a single episode html file — build_episode_html","title":"Build a single episode html file — build_episode_html","text":"Carpentries-specific wrapper around pkgdown::render_page() templates varnish. function largely internal use likely change.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_html.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a single episode html file — build_episode_html","text":"","code":"build_episode_html(   path_md,   path_src = NULL,   page_back = \"index.md\",   page_forward = \"index.md\",   pkg,   quiet = FALSE,   page_progress = NULL,   sidebar = NULL,   date = NULL )"},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_html.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a single episode html file — build_episode_html","text":"path_md path episode markdown (RMarkdown) file (usually via build_episode_md()). path_src default NULL indicating source file determined sandpaper-source entry yaml header. present, option allows specify file. page_back URL previous page page_forward URL next page pkg pkgdown object containing metadata site quiet TRUE, messages produced. Defaults TRUE. page_progress integer 0 100 indicating rounded percent page progress. Defaults NULL. sidebar character vector links episodes use sidebar. current episode replaced index chapters episode. date date episode last built.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_html.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a single episode html file — build_episode_html","text":"TRUE page successful, FALSE otherwise.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_html.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Build a single episode html file — build_episode_html","text":"function internal use, exported know .","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_html.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a single episode html file — build_episode_html","text":"","code":"if (.Platform$OS.type == \"windows\") {   options(\"sandpaper.use_renv\" = FALSE) } if (!interactive() && getOption(\"sandpaper.use_renv\")) {   old <- renv::config$cache.symlinks()   options(renv.config.cache.symlinks = FALSE)   on.exit(options(renv.config.cache.symlinks = old), add = TRUE) } tmp <- tempfile() create_lesson(tmp, open = FALSE) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a461e3a4a3... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a461e3a4a3/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a461e3a4a3... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a461e3a4a3... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a461e3a4a3 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a461e3a4a3... #> /tmp/Rtmpe2ZTPf/file37a461e3a4a3 suppressMessages(set_episodes(tmp, get_episodes(tmp), write = TRUE)) if (rmarkdown::pandoc_available(\"2.11\")) {   # we can only build this if we have pandoc   build_lesson(tmp) }  # create a new file in files fun_file <- file.path(tmp, \"episodes\", \"files\", \"fun.Rmd\") txt <- c(  \"---\\ntitle: Fun times\\n---\\n\\n\",  \"# new page\\n\",   \"This is coming from `r R.version.string`\\n\",  \"::: testimonial\\n\\n#### testimony!\\n\\nwhat\\n:::\\n\" ) file.create(fun_file) #> [1] TRUE writeLines(txt, fun_file) hash <- tools::md5sum(fun_file) res <- build_episode_md(fun_file, hash) #>  #>  #> processing file: /tmp/Rtmpe2ZTPf/file37a461e3a4a3/episodes/files/fun.Rmd #>    |                                                                               |                                                                      |   0%   |                                                                               |......................................................................| 100% #>    inline R code fragments #>  #>  #> output file: /tmp/Rtmpe2ZTPf/file37a461e3a4a3/site/built/fun.md #>  #>  if (rmarkdown::pandoc_available(\"2.11\")) {   # we need to set the global values   sandpaper:::set_globals(res)   on.exit(clear_globals(), add = TRUE)   # we can only build this if we have pandoc   build_episode_html(res, path_src = fun_file,      pkg = pkgdown::as_pkgdown(file.path(tmp, \"site\"))   ) }"},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Build an episode to markdown — build_episode_md","title":"Build an episode to markdown — build_episode_md","text":"uses knitr::knit() custom options set Carpentries template. runs separate process avoid issues user-specific options bleeding .","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build an episode to markdown — build_episode_md","text":"","code":"build_episode_md(   path,   hash = NULL,   outdir = path_built(path),   workdir = path_built(path),   workenv = new.env(),   profile = \"lesson-requirements\",   quiet = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build an episode to markdown — build_episode_md","text":"path path RMarkdown file hash hash prepend output. parameter deprecated effectively useless. outdir directory write workdir directory episode rendered quiet TRUE, output suppressed, default FALSE show knitr output. env blank environment","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build an episode to markdown — build_episode_md","text":"path output, invisibly","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_md.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Build an episode to markdown — build_episode_md","text":"function internal use, exported know .","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/build_episode_md.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build an episode to markdown — build_episode_md","text":"","code":"if (.Platform$OS.type == \"windows\") {   options(\"sandpaper.use_renv\" = FALSE) } if (!interactive() && getOption(\"sandpaper.use_renv\")) {   old <- renv::config$cache.symlinks()   options(renv.config.cache.symlinks = FALSE)   on.exit(options(renv.config.cache.symlinks = old), add = TRUE) } fun_dir <- tempfile() dir.create(fs::path(fun_dir, \"episodes\"), recursive = TRUE) fun_file <- file.path(fun_dir, \"episodes\", \"fun.Rmd\") file.create(fun_file) #> [1] TRUE txt <- c(  \"---\\ntitle: Fun times\\n---\\n\\n\",  \"# new page\\n\",   \"This is coming from `r R.version.string`\" ) writeLines(txt, fun_file) res <- build_episode_md(fun_file, outdir = fun_dir, workdir = fun_dir) #>  #>  #> processing file: /tmp/Rtmpe2ZTPf/file37a4dab3dba/episodes/fun.Rmd #>    |                                                                               |                                                                      |   0%   |                                                                               |......................................................................| 100% #>    inline R code fragments #>  #>  #> output file: /tmp/Rtmpe2ZTPf/file37a4dab3dba/fun.md #>  #>"},{"path":"https://carpentries.github.io/sandpaper/reference/build_handout.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a code handout of challenges without solutions — build_handout","title":"Create a code handout of challenges without solutions — build_handout","text":"function build handout save files/code-handout.R lesson website. build website enable options(sandpaper.handout = TRUE) want specify path, can use options(sandpaper.handout = \"/path//handout.R\") save handout specific path.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_handout.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a code handout of challenges without solutions — build_handout","text":"","code":"build_handout(path = \".\", out = getOption(\"sandpaper.handout\", NULL))"},{"path":"https://carpentries.github.io/sandpaper/reference/build_handout.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a code handout of challenges without solutions — build_handout","text":"path path lesson. Defaults current working directory path handout document. NULL (default) TRUE, output site/built/files/code-handout.R.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_lesson.html","id":null,"dir":"Reference","previous_headings":"","what":"Build your lesson site — build_lesson","title":"Build your lesson site — build_lesson","text":"function orchestrates rendering generated lesson content applying theme HTML site.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_lesson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build your lesson site — build_lesson","text":"","code":"build_lesson(   path = \".\",   rebuild = FALSE,   quiet = !interactive(),   preview = TRUE,   override = list() )"},{"path":"https://carpentries.github.io/sandpaper/reference/build_lesson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build your lesson site — build_lesson","text":"path path repository (defaults current working directory) rebuild TRUE, everything built scratch cache. Defaults FALSE, build markdown files built . quiet TRUE, output supressed preview TRUE, rendered website opened new window override options override (e.g. building alternative paths). used internally likely changed.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_lesson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build your lesson site — build_lesson","text":"TRUE successful, character vector issues unsuccessful.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_lesson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build your lesson site — build_lesson","text":"","code":"tmp <- tempfile() create_lesson(tmp, open = FALSE) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4298d9832... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a4298d9832/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4298d9832... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4298d9832... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a4298d9832 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4298d9832... #> /tmp/Rtmpe2ZTPf/file37a4298d9832 create_episode(\"first-script\", path = tmp) check_lesson(tmp) if (rmarkdown::pandoc_available(\"2.11\"))   build_lesson(tmp)"},{"path":"https://carpentries.github.io/sandpaper/reference/build_markdown.html","id":null,"dir":"Reference","previous_headings":"","what":"Build plain markdown from the RMarkdown episodes — build_markdown","title":"Build plain markdown from the RMarkdown episodes — build_markdown","text":"spirit hugodown, function build plain markdown files minimal R package site/ folder sandpaper lesson repository tagged hash file ensure files changed rebuilt.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_markdown.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build plain markdown from the RMarkdown episodes — build_markdown","text":"","code":"build_markdown(path = \".\", rebuild = FALSE, quiet = FALSE, slug = NULL)"},{"path":"https://carpentries.github.io/sandpaper/reference/build_markdown.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build plain markdown from the RMarkdown episodes — build_markdown","text":"path path repository (defaults current working directory) rebuild TRUE, everything built scratch cache. Defaults FALSE, build markdown files built .","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_markdown.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build plain markdown from the RMarkdown episodes — build_markdown","text":"TRUE successful, character vector issues unsuccessful.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/build_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper for site builder — build_site","title":"Wrapper for site builder — build_site","text":"Wrapper site builder","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper for site builder — build_site","text":"","code":"build_site(   path = \".\",   quiet = !interactive(),   preview = TRUE,   override = list(),   slug = NULL,   built = NULL )"},{"path":"https://carpentries.github.io/sandpaper/reference/build_site.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper for site builder — build_site","text":"path path repository (defaults current working directory) quiet TRUE, output supressed preview TRUE, rendered website opened new window override options override (e.g. building alternative paths). used internally likely changed. slug slug file preview RStudio. NULL, preview default home page. episode whose slug 01-introduction, setting slug = \"01-introduction\" allow RStudio open preview window right page. built character vector newly built files NULL.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_site.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Wrapper for site builder — build_site","text":"assumes markdown files already built work otherwise","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify what files need to be rebuilt and what need to be removed — build_status","title":"Identify what files need to be rebuilt and what need to be removed — build_status","text":"takes vector files compares text database files checksums. heavily adapted blogdown provide utilities removal updating old database.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify what files need to be rebuilt and what need to be removed — build_status","text":"","code":"build_status(   sources,   db = \"site/built/md5sum.txt\",   rebuild = FALSE,   write = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/build_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify what files need to be rebuilt and what need to be removed — build_status","text":"sources character vector source files single file rebuilt. must absolute paths db path database rebuild files rebuilt, set TRUE (defaults FALSE) write TRUE, database updated, Defaults FALSE, meaning database remain .","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify what files need to be rebuilt and what need to be removed — build_status","text":"list following elements build absolute paths files build new new data frame three columns: file relative path source file checksum md5 sum source file built relative path built file remove absolute paths files remove. missing nothing remove old old database (debugging). missing old database single file rebuilt.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/build_status.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify what files need to be rebuilt and what need to be removed — build_status","text":"supply single file function, assume want one file rebuilt, always return file $build element update md5 sum database (changed ). supply multiple files, indicating files care database updated accordingly, removing entries missing sources.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/check_lesson.html","id":null,"dir":"Reference","previous_headings":"","what":"deprecated Check the lesson structure for errors — check_episode","title":"deprecated Check the lesson structure for errors — check_episode","text":"function now deprecated favour validate_lesson().","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/check_lesson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"deprecated Check the lesson structure for errors — check_episode","text":"","code":"check_episode(path)  check_lesson(path = \".\")"},{"path":"https://carpentries.github.io/sandpaper/reference/check_lesson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"deprecated Check the lesson structure for errors — check_episode","text":"path path lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/check_lesson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"deprecated Check the lesson structure for errors — check_episode","text":"TRUE (invisibly) lesson cromulent, otherwise, error list things fix.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/check_lesson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"deprecated Check the lesson structure for errors — check_episode","text":"","code":"# Everything should work out of the box tmp <- tempfile() create_lesson(tmp, open = FALSE) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a48b589e4... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a48b589e4/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a48b589e4... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a48b589e4... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a48b589e4 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a48b589e4... #> /tmp/Rtmpe2ZTPf/file37a48b589e4 check_lesson(tmp)  # if things do not work, then an error is thrown with information about  # what has failed you unlink(file.path(tmp, \".gitignore\")) unlink(file.path(tmp, \"site\"), recursive = TRUE) try(check_lesson(tmp)) #> ! Path '/tmp/Rtmpe2ZTPf/file37a48b589e4/site' does not exist #> ! The .gitignore file is missing the following elements: #> episodes/*html #> site/* #> !site/README.md #> .Rhistory #> .Rapp.history #> .RData #> .Ruserdata #> *-Ex.R #> /*.tar.gz #> /*.Rcheck/ #> .Rproj.user/ #> vignettes/*.html #> vignettes/*.pdf #> .httr-oauth #> *_cache/ #> /cache/ #> *.utf8.md #> *.knit.md #> .Renviron #> docs/ #> po/*~ #> ! The file 'site/README.md' does not exist #> Error in report_validation(checklist, \"There were errors with the lesson structure.\") :  #>   There were errors with the lesson structure.  unlink(tmp)"},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_markdown.html","id":null,"dir":"Reference","previous_headings":"","what":"(INTERNAL) Build and deploy the site with continous integration — ci_build_markdown","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_markdown","text":"(INTERNAL) Build deploy site continous integration","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_markdown.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_markdown","text":"","code":"ci_build_markdown(   path = \".\",   branch = \"md-outputs\",   remote = \"origin\",   reset = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_markdown.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_markdown","text":"path path lesson remote name git remote deploy. md_branch branch name contains markdown outputs site_branch branch name contains full HTML site","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_markdown.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_markdown","text":"NOTHING","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_markdown.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_markdown","text":"function interactive use. requires git installed machine destroy anything site/ folder. Additionally, set sandpaper.use_renv option TRUE, means always use renv package cache.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_site.html","id":null,"dir":"Reference","previous_headings":"","what":"(INTERNAL) Build and deploy the site with continous integration — ci_build_site","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_site","text":"(INTERNAL) Build deploy site continous integration","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_site","text":"","code":"ci_build_site(   path = \".\",   branch = \"gh-pages\",   md = \"md-outputs\",   remote = \"origin\",   reset = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_site.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_site","text":"path path lesson branch branch name contains full HTML site md branch name contains markdown outputs remote name git remote deploy. reset TRUE, contents branch/folder cleared inserting new items","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_site.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_site","text":"NOTHING","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_build_site.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"(INTERNAL) Build and deploy the site with continous integration — ci_build_site","text":"function interactive use. requires git installed machine destroy anything site/ folder. Additionally, set sandpaper.use_renv option TRUE, means always use renv package cache.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_deploy.html","id":null,"dir":"Reference","previous_headings":"","what":"(INTERNAL) Build and deploy the site with continous integration — ci_deploy","title":"(INTERNAL) Build and deploy the site with continous integration — ci_deploy","text":"(INTERNAL) Build deploy site continous integration","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_deploy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(INTERNAL) Build and deploy the site with continous integration — ci_deploy","text":"","code":"ci_deploy(   path = \".\",   md_branch = \"md-outputs\",   site_branch = \"gh-pages\",   remote = \"origin\",   reset = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/ci_deploy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(INTERNAL) Build and deploy the site with continous integration — ci_deploy","text":"path path lesson md_branch branch name contains markdown outputs site_branch branch name contains full HTML site remote name git remote deploy. reset TRUE, site cache cleared rebuilding, defaults FALSE meaning cache md_branch used","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_deploy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(INTERNAL) Build and deploy the site with continous integration — ci_deploy","text":"Nothing, invisibly. used side-effect","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_deploy.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"(INTERNAL) Build and deploy the site with continous integration — ci_deploy","text":"function interactive use. requires git installed machine destroy anything site/ folder.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_session_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Report session information to the user — ci_session_info","title":"Report session information to the user — ci_session_info","text":"function used continuous integration report packages used building site pull requests","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/ci_session_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Report session information to the user — ci_session_info","text":"","code":"ci_session_info()"},{"path":"https://carpentries.github.io/sandpaper/reference/ci_session_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Report session information to the user — ci_session_info","text":"Nothing, used entirely side-effect","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_episode.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an Episode from a template — create_episode","title":"Create an Episode from a template — create_episode","text":"Create Episode template","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_episode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an Episode from a template — create_episode","text":"","code":"create_episode(title, make_prefix = TRUE, add = FALSE, path = \".\")"},{"path":"https://carpentries.github.io/sandpaper/reference/create_episode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an Episode from a template — create_episode","text":"title title episode make_prefix logical. TRUE, prefix file automatically determined files already present. Otherwise, assumes added prefix. add TRUE, lesson added schedule. Defaults FALSE path path sandpaper lesson.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_episode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an Episode from a template — create_episode","text":"","code":"tmp <- tempfile() create_lesson(tmp) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a46b73a0b7... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a46b73a0b7/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a46b73a0b7... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a46b73a0b7... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a46b73a0b7 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a46b73a0b7... #> /tmp/Rtmpe2ZTPf/file37a46b73a0b7 create_episode(\"getting-started\", path = tmp)"},{"path":"https://carpentries.github.io/sandpaper/reference/create_lesson.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a carpentries lesson — create_lesson","title":"Create a carpentries lesson — create_lesson","text":"create boilerplate directory structure Carpentries lesson initialize git repository.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_lesson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a carpentries lesson — create_lesson","text":"","code":"create_lesson(   path,   name = fs::path_file(path),   rstudio = rstudioapi::isAvailable(),   open = rlang::is_interactive() )"},{"path":"https://carpentries.github.io/sandpaper/reference/create_lesson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a carpentries lesson — create_lesson","text":"path path new lesson folder name name lesson. provided, folder name used. rstudio create RStudio project (defaults RStudio exits) open interactive, lesson open new editor window.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_lesson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a carpentries lesson — create_lesson","text":"path new lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_lesson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a carpentries lesson — create_lesson","text":"","code":"tmp <- tempfile() on.exit(unlink(tmp)) lsn <- create_lesson(tmp, name = \"This Lesson\", open = FALSE) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4797abb3c... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a4797abb3c/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4797abb3c... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4797abb3c... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a4797abb3c #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a4797abb3c... lsn #> /tmp/Rtmpe2ZTPf/file37a4797abb3c"},{"path":"https://carpentries.github.io/sandpaper/reference/create_resources_dropdown.html","id":null,"dir":"Reference","previous_headings":"","what":"Create dropdown menus for extra content — create_resources_dropdown","title":"Create dropdown menus for extra content — create_resources_dropdown","text":"Create dropdown menus extra content","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_resources_dropdown.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create dropdown menus for extra content — create_resources_dropdown","text":"","code":"create_resources_dropdown(files, type = \"learners\")"},{"path":"https://carpentries.github.io/sandpaper/reference/create_resources_dropdown.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create dropdown menus for extra content — create_resources_dropdown","text":"files vector markdown file names type one \"learners\" (default) \"instructors\". learners, setup page excluded since included index. \"instructors\", instructor notes included learner profiles included.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_resources_dropdown.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create dropdown menus for extra content — create_resources_dropdown","text":"list character vectors HTML list elements.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the sidebar for varnish — create_sidebar","title":"Create the sidebar for varnish — create_sidebar","text":"Varnish uses sidebar navigation across within episode. episode's sidebar different needs clear indicator episode current one within sidebar.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the sidebar for varnish — create_sidebar","text":"","code":"create_sidebar(   chapters,   name = \"\",   html = \"<a href='https://carpentries.org'/>\" )"},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the sidebar for varnish — create_sidebar","text":"chapters character vector paths markdown chapters name name current chapter html html current chapter. defaults link produce sidebar links headings.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create the sidebar for varnish — create_sidebar","text":"function creates sidebar.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar_item.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a single item that appears in the sidebar — create_sidebar_item","title":"Create a single item that appears in the sidebar — create_sidebar_item","text":"Varnish uses sidebar navigation across within episode. funciton create sidebar item single episode, providing dropdown menu sections within episode labeled current episode.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar_item.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a single item that appears in the sidebar — create_sidebar_item","text":"","code":"create_sidebar_item(nodes, name, position)"},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar_item.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a single item that appears in the sidebar — create_sidebar_item","text":"nodes html generated render_html() parsed xml2 name name chapter render position either number \"current\", \"current\", html parsed second level headings list sidebar navigation.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/create_sidebar_item.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a single item that appears in the sidebar — create_sidebar_item","text":"character vector div item insert sidebar navigation","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/dependency_management.html","id":null,"dir":"Reference","previous_headings":"","what":"Lesson Runtime Dependency Management — manage_deps","title":"Lesson Runtime Dependency Management — manage_deps","text":"customized provisioner Carpentries Lessons based renv install maintain requirements lesson respecting user environments. setup leads several advantages: reliable setup: version lesson built carpentries website build computer packages identical environmentally friendly: lesson dependencies stored default R library alter R environment. transparent: additions deletions cache recorded lockfile, tracked git. functions control cache following: manage_deps(): Creates updates dependencies lesson. lockfile exists lesson, create one . update_cache(): fetches updates dependencies applies cache lockfile. wrapper around renv::record(), helps record package set packages lockfile. can useful want upgrade downgrade specific package.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/dependency_management.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lesson Runtime Dependency Management — manage_deps","text":"","code":"manage_deps(   path = \".\",   profile = \"lesson-requirements\",   snapshot = TRUE,   quiet = FALSE )  update_cache(   path = \".\",   profile = \"lesson-requirements\",   prompt = interactive(),   quiet = !prompt,   snapshot = TRUE )  pin_version(records = NULL, profile = \"lesson-requirements\", path = \".\")"},{"path":"https://carpentries.github.io/sandpaper/reference/dependency_management.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lesson Runtime Dependency Management — manage_deps","text":"path path lesson. Defaults current working directory. profile default profile lesson. Defaults lesson-requirements. use know . snapshot TRUE, packages cache added lockfile (default). Setting FALSE add packages cache snapshot . quiet TRUE, output suppressed, defaults FALSE, providing output different steps process updating local dependencies. prompt TRUE, message show packages updated lockfile ask permission. default running interactive session. records character vector list packages/resources include lockfile. common way use [package]@[version] syntax (e.g. gert@0.1.3), specifications can specify remote repository. See renv::record() details.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/dependency_management.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lesson Runtime Dependency Management — manage_deps","text":"snapshot = TRUE, nested list representing lockfile returned. contents lockfile, invisibly","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/dependency_management.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Lesson Runtime Dependency Management — manage_deps","text":"renv package provides useful interface bring one aspect reproducibility R projects. people working Carpentries lessons also working academics likely projects computer package versions necessary work, important environments respected. flavor renv applies package cache explicitly content lesson, impose default renv environment. provisioner following steps: check consent use package cache via use_package_cache() prompt needed check profile created create needed via renv::init() populate cache packages needed user's system download missing via renv::hydrate(). includes new packages added lesson. lockfile already present, make sure packages cache aligned lockfile (downloading sources needed) via renv::restore(). Record state cache lockfile tracked git. include adding new packages removing old packages. renv::snapshot() lockfile changes, see git power either commit restore changes.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":null,"dir":"Reference","previous_headings":"","what":"Test fixture functions for sandpaper — create_test_lesson","title":"Test fixture functions for sandpaper — create_test_lesson","text":"suite functions use testing sandpaper designed create/work temporary lesson associated remote repository (locally) persists throughout test suite. functions used tests/testthat/setup.R. information, see package scope section testthat article Test Fixtures.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test fixture functions for sandpaper — create_test_lesson","text":"","code":"create_test_lesson()  generate_restore_fixture(repo)  setup_local_remote(   repo,   remote = tempfile(),   name = \"sandpaper-local\",   verbose = FALSE )  make_branch(repo, branch = NULL, name = \"sandpaper-local\", verbose = FALSE)  clean_branch(repo, branch = NULL, name = \"sandpaper-local\", verbose = FALSE)  remove_local_remote(repo, name = \"sandpaper-local\")"},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test fixture functions for sandpaper — create_test_lesson","text":"repo path git repository remote path empty uninitialized directory. Defaults tempfile name remote, defaults \"sandpaper-local\" verbose TRUE, messages output git printed screen. Defaults FALSE. branch name new branch deleted","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test fixture functions for sandpaper — create_test_lesson","text":"(generate_restore_fixture) function restore test fixture (setup_local_remote()) repo, invisibly (remove_local_remote()) FALSE indicating error string indicating path remote","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"create-test-lesson-","dir":"Reference","previous_headings":"","what":"create_test_lesson()","title":"Test fixture functions for sandpaper — create_test_lesson","text":"creates test lesson calls generate_restore_fixture() path new test lesson.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"generate-restore-fixture-","dir":"Reference","previous_headings":"","what":"generate_restore_fixture()","title":"Test fixture functions for sandpaper — create_test_lesson","text":"creates function restore lesson previous commit.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"setup-local-remote-","dir":"Reference","previous_headings":"","what":"setup_local_remote()","title":"Test fixture functions for sandpaper — create_test_lesson","text":"Creates local remote repository separate temporary folder, linked fixture lesson.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"make-branch-","dir":"Reference","previous_headings":"","what":"make_branch()","title":"Test fixture functions for sandpaper — create_test_lesson","text":"create branch local repository push remote repository.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"clean-branch-","dir":"Reference","previous_headings":"","what":"clean_branch()","title":"Test fixture functions for sandpaper — create_test_lesson","text":"delete branch local remote repository.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"remove-local-remote-","dir":"Reference","previous_headings":"","what":"remove_local_remote()","title":"Test fixture functions for sandpaper — create_test_lesson","text":"Destorys local remote repository removes fixture lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/fixtures.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Test fixture functions for sandpaper — create_test_lesson","text":"implemented tests/testthat/setup.md","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_built_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the database of built files and their hashes — get_built_db","title":"Get the database of built files and their hashes — get_built_db","text":"Get database built files hashes","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_built_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the database of built files and their hashes — get_built_db","text":"","code":"get_built_db(db = \"site/built/md5sum.txt\", filter = \"*R?md\")"},{"path":"https://carpentries.github.io/sandpaper/reference/get_built_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the database of built files and their hashes — get_built_db","text":"db path database. filter regex describing files include.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_built_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the database of built files and their hashes — get_built_db","text":"data frame three columns: file: path source file checksum: hash source file generate built file built: path built file","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/get_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the configuration parameters for the lesson — get_config","title":"Get the configuration parameters for the lesson — get_config","text":"Get configuration parameters lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the configuration parameters for the lesson — get_config","text":"","code":"get_config(path)"},{"path":"https://carpentries.github.io/sandpaper/reference/get_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the configuration parameters for the lesson — get_config","text":"path path lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the configuration parameters for the lesson — get_config","text":"yaml list","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the configuration parameters for the lesson — get_config","text":"","code":"tmp <- tempfile() create_lesson(tmp) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a440662225... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a440662225/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a440662225... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a440662225... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a440662225 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a440662225... #> /tmp/Rtmpe2ZTPf/file37a440662225 get_config(tmp) #> $carpentry #> [1] \"cp\" #>  #> $title #> [1] \"Lesson Title\" #>  #> $created #> NULL #>  #> $keywords #> [1] \"software, data, lesson, The Carpentries\" #>  #> $life_cycle #> [1] \"pre-alpha\" #>  #> $license #> [1] \"CC-BY 4.0\" #>  #> $source #> [1] \"https://github.com/carpentries/file37a440662225\" #>  #> $branch #> [1] \"main\" #>  #> $contact #> [1] \"team@carpentries.org\" #>  #> $episodes #> NULL #>  #> $learners #> NULL #>  #> $instructors #> NULL #>  #> $profiles #> NULL #>"},{"path":"https://carpentries.github.io/sandpaper/reference/get_drafts.html","id":null,"dir":"Reference","previous_headings":"","what":"Show files in draft form — get_drafts","title":"Show files in draft form — get_drafts","text":"default, sandpaper use files alphabetical order presented folders, however, strongly authors specify order files lessons, easy rearrange add, split, rearrange files.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_drafts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show files in draft form — get_drafts","text":"","code":"get_drafts(   path,   folder = NULL,   message = getOption(\"sandpaper.show_draft\", TRUE) )"},{"path":"https://carpentries.github.io/sandpaper/reference/get_drafts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show files in draft form — get_drafts","text":"path path sandpaper lesson folder specific folder list draft files. Defaults NULL, indicates folders listed config.yaml. message TRUE (default), informative message files draft status printed screen.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_drafts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show files in draft form — get_drafts","text":"vector paths files draft message (specified)","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_drafts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Show files in draft form — get_drafts","text":"mechanism also allows authors work files draft form without published. function list show files draft automation audit.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_dropdown.html","id":null,"dir":"Reference","previous_headings":"","what":"Helpers to extract contents of dropdown menus on the site — get_dropdown","title":"Helpers to extract contents of dropdown menus on the site — get_dropdown","text":"fuction extract resources exist listed config file.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_dropdown.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helpers to extract contents of dropdown menus on the site — get_dropdown","text":"","code":"get_dropdown(path = \".\", folder, trim = TRUE)  get_episodes(path = \".\", trim = TRUE)  get_learners(path = \".\", trim = TRUE)  get_instructors(path = \".\", trim = TRUE)  get_profiles(path = \".\", trim = TRUE)"},{"path":"https://carpentries.github.io/sandpaper/reference/get_dropdown.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helpers to extract contents of dropdown menus on the site — get_dropdown","text":"path path lesson, defaults current working directory folder folder extract fromt dropdown menues trim TRUE (default), file name presented. FALSE, full path prepended.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_dropdown.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helpers to extract contents of dropdown menus on the site — get_dropdown","text":"character vector episodes order presentation","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_dropdown.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helpers to extract contents of dropdown menus on the site — get_dropdown","text":"","code":"tmp <- tempfile() create_lesson(tmp) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a415da29dd... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a415da29dd/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a415da29dd... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a415da29dd... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a415da29dd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a415da29dd... #> /tmp/Rtmpe2ZTPf/file37a415da29dd get_episodes(tmp) #> ℹ No schedule set, using Rmd files in episodes/ directory. #> → To remove this message, define your schedule in config.yaml or use `set_episodes()` to generate it. #> [1] \"01-introduction.Rmd\" get_learners(tmp) # information for learners #> [1] \"setup.md\""},{"path":"https://carpentries.github.io/sandpaper/reference/get_hash.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the expected hash from a set of built files — get_hash","title":"Get the expected hash from a set of built files — get_hash","text":"Get expected hash set built files","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_hash.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the expected hash from a set of built files — get_hash","text":"","code":"get_hash(path, db = fs::path(path_built(path), \"md5sum.txt\"))"},{"path":"https://carpentries.github.io/sandpaper/reference/get_hash.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the expected hash from a set of built files — get_hash","text":"path path least one generated markdown file db path text database","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_hash.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the expected hash from a set of built files — get_hash","text":"character vector checksums","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/get_nav_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate the navigation data for a page — get_nav_data","title":"Generate the navigation data for a page — get_nav_data","text":"Generate navigation data page","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_nav_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate the navigation data for a page — get_nav_data","text":"","code":"get_nav_data(   path_md,   path_src = NULL,   home = NULL,   this_page = NULL,   page_back = NULL,   page_forward = NULL )"},{"path":"https://carpentries.github.io/sandpaper/reference/get_nav_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate the navigation data for a page — get_nav_data","text":"path_md path episode markdown (RMarkdown) file (usually via build_episode_md()). path_src default NULL indicating source file determined sandpaper-source entry yaml header. present, option allows specify file. home path lesson home this_page current page relative html address page_back URL previous page page_forward URL next page","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_resource_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the full resource list of markdown files — get_resource_list","title":"Get the full resource list of markdown files — get_resource_list","text":"Get full resource list markdown files","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_resource_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the full resource list of markdown files — get_resource_list","text":"","code":"get_resource_list(path, trim = FALSE, subfolder = NULL, warn = FALSE)"},{"path":"https://carpentries.github.io/sandpaper/reference/get_resource_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the full resource list of markdown files — get_resource_list","text":"path path lesson trim TRUE, trim paths relative lesson directory. Defaults FALSE, return absolute paths subfolder subfolder check. NULL, folders checked returned (default), otherwise, string specifying folder name lesson (e.g. \"episodes\"). warn TRUE subfolder = \"episodes\", message issued user episodes field configuration file empty.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_resource_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the full resource list of markdown files — get_resource_list","text":"list files subfolder order appear menu.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/get_syllabus.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a syllabus for the lesson — get_syllabus","title":"Create a syllabus for the lesson — get_syllabus","text":"function generally internal use, may useful whish automate creation home pages.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_syllabus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a syllabus for the lesson — get_syllabus","text":"","code":"get_syllabus(path = \".\", questions = FALSE, use_built = TRUE)"},{"path":"https://carpentries.github.io/sandpaper/reference/get_syllabus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a syllabus for the lesson — get_syllabus","text":"path path lesson questions TRUE, questions episodes added table. Defaults FALSE. use_built TRUE (default), rendered episodes used generate syllabus","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/get_syllabus.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a syllabus for the lesson — get_syllabus","text":"data frame containing syllabus lesson timing, links, questions associated","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"Setup git worktree concurrent manipulation separate branch","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"","code":"git_worktree_setup(   path = \".\",   dest_dir,   branch = \"gh-pages\",   remote = \"origin\",   throwaway = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"path path repository dest_dir path destination directory contain work tree branch branch associated work tree (default: gh-pages) remote remote name (default: origin) throwaway TRUE, worktree created detached HEAD state remote branch create new branch repository. Defaults FALSE, create branch upstream.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"expression() calls git worktree remove worktree evaluated.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"function used continuous integration settings want push derived outputs non-main branches repository. use populate markdown HTML outputs lesson rebuild lesson scratch every time. logic behind looks like","code":"worktree setup [IF BRANCH DOES NOT EXIST]   git checkout --orphan <branch>   git rm -rf --quiet .   git commit --allow-empty -m   git push remote HEAD:<branch>   git checkout - git fetch <remote> +refs/heads/<branch>:refs/remotes/<remote>/<branch> git worktree add --track -B <branch> /path/to/dir <remote>/<branch>"},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"internal function modified logic pkgdown::deploy_to_branch(), Hadley Wickham.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/git_worktree_setup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Setup a git worktree for concurrent manipulation of a separate branch — git_worktree_setup","text":"","code":"run_ok <- sandpaper:::has_git() &&   requireNamespace(\"withr\", quietly = TRUE) &&   rmarkdown::pandoc_available(\"2.11\")  # Use Worktrees to deploy a lesson ----------------------------------------- # This example is a bit inovlved, but it is effectively what we do inside of # the `ci_deploy()` function (after setting up the lesson).  #  # The setup phase will create a new lesson and a corresponding remote (self # contained, no GitHub authentication required).  #  # The worktrees will be created for both the markdown and HTML outputs on the # branches \"md-outputs\" and \"gh-pages\", respectively.  #  # After the worktrees are created, we will build the lesson into the # worktrees and display the output of `git_status()` for each of the three # branches: \"main\", \"md-outputs\", and \"gh-pages\" #  # During the clean up phase, the output of `git_worktree_setup()` is  # evaluated if (run_ok) { cli::cli_h1(\"Set up\") cli::cli_h2(\"Create Lesson\") restore_fixture <- sandpaper:::create_test_lesson() res <- getOption(\"sandpaper.test_fixture\") sandpaper:::check_git_user(res) cli::cli_h2(\"Create Remote\") rmt <- fs::file_temp(pattern = \"REMOTE-\") sandpaper:::setup_local_remote(repo = res, remote = rmt, verbose = FALSE) cli::cli_h2(\"Create Worktrees\") db <- sandpaper:::git_worktree_setup(res, fs::path(res, \"site\", \"built\"),    branch = \"md-outputs\", remote = \"sandpaper-local\" ) ds <- sandpaper:::git_worktree_setup(res, fs::path(res, \"site\", \"docs\"),    branch = \"gh-pages\", remote = \"sandpaper-local\" ) cli::cli_h1(\"Build Lesson into worktrees\") build_lesson(res, quiet = TRUE, preview = FALSE) cli::cli_h2(\"git status: {gert::git_branch(repo = res)}\") print(gert::git_status(repo = res)) cli::cli_h2('git status: {gert::git_branch(repo = fs::path(res, \"site\", \"built\"))}') print(gert::git_status(repo = fs::path(res, \"site\", \"built\"))) cli::cli_h2('git status: {gert::git_branch(repo = fs::path(res, \"site\", \"docs\"))}') print(gert::git_status(repo = fs::path(res, \"site\", \"docs\"))) cli::cli_h1(\"Clean Up\") cli::cli_alert_info(\"object db is an expression that evaluates to {.code {db}}\") eval(db) cli::cli_alert_info(\"object ds is an expression that evaluates to {.code {ds}}\") eval(ds) sandpaper:::remove_local_remote(repo = res) sandpaper:::reset_git_user(res) # remove the test fixture and report tryCatch(fs::dir_delete(res), error = function() FALSE) }"},{"path":"https://carpentries.github.io/sandpaper/reference/lesson_storage.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal cache for storing lesson objects — set_this_lesson","title":"Internal cache for storing lesson objects — set_this_lesson","text":"storage cache pegboard::Lesson objects works across functions sandpaper working.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/lesson_storage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal cache for storing lesson objects — set_this_lesson","text":"","code":"set_this_lesson(path)  clear_this_lesson()  this_lesson(path)  set_resource_list(path)  clear_resource_list(path)"},{"path":"https://carpentries.github.io/sandpaper/reference/lesson_storage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal cache for storing lesson objects — set_this_lesson","text":"path path current lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/lesson_storage.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Internal cache for storing lesson objects — set_this_lesson","text":"this_lesson() return pegboard::Lesson object previously stored. three values cached: .this_lesson pegboard::Lesson object .this_diff charcter vector gert::git_diff_patch() .this_status data frame gert::git_status() function this_lesson() first checks .this_diff different output gert::git_diff_patch() check changes gert::git_status(). differences values previously cached, lesson loaded memory. storage cache global package object called .store, initialised sandpaper loaded via .lesson_store() changes git aware , lesson remains .","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/lesson_storage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Internal cache for storing lesson objects — set_this_lesson","text":"","code":"tmp <- tempfile() create_lesson(tmp, open = FALSE) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a439437121... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a439437121/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a439437121... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a439437121... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a439437121 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a439437121... #> /tmp/Rtmpe2ZTPf/file37a439437121 # Read the lesson into cache system.time(sandpaper:::this_lesson(tmp))  #>    user  system elapsed  #>   0.182   0.004   0.187  system.time(sandpaper:::this_lesson(tmp)) # less time to read in once cached #>    user  system elapsed  #>   0.002   0.004   0.006  l <- sandpaper:::this_lesson(tmp) l #> <Lesson> #>   Public: #>     blocks: function (type = NULL, level = 0, path = FALSE)  #>     challenges: function (path = FALSE, graph = FALSE, recurse = TRUE)  #>     clone: function (deep = FALSE)  #>     episodes: list #>     extra: list #>     files: active binding #>     handout: function (path = NULL, solution = FALSE)  #>     initialize: function (path = \".\", rmd = FALSE, jekyll = TRUE, ...)  #>     isolate_blocks: function ()  #>     n_problems: active binding #>     path: /tmp/Rtmpe2ZTPf/file37a439437121 #>     reset: function ()  #>     rmd: FALSE #>     show_problems: active binding #>     solutions: function (path = FALSE)  #>     thin: function (verbose = TRUE)  #>     validate_divs: function ()  #>     validate_headings: function (verbose = TRUE)  #>     validate_links: function ()  #>   Private: #>     deep_clone: function (name, value)  # clear the cache sandpaper:::clear_this_lesson() system.time(sandpaper:::this_lesson(tmp)) # have to re-read the lesson #>    user  system elapsed  #>   0.148   0.000   0.147  system.time(sandpaper:::this_lesson(tmp))  #>    user  system elapsed  #>   0.000   0.003   0.004  unlink(tmp)"},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Give Consent to Use Package Cache — use_package_cache","title":"Give Consent to Use Package Cache — use_package_cache","text":"functions explicitly gives sandpaper permission use renv create package cache future lessons. two states can use: use_package_cache(): Gives explicit permission set use package cache lesson. no_package_cache(): Temporarily suspends permission use package cache lesson, regardless previously given. package cache defined, can use changes lockfile trigger rebuilds lesson. , can use: package_cache_trigger(TRUE) function best used conjunction update_cache()","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Give Consent to Use Package Cache — use_package_cache","text":"","code":"use_package_cache(prompt = interactive(), quiet = !prompt)  no_package_cache()  package_cache_trigger(rebuild = NULL)"},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Give Consent to Use Package Cache — use_package_cache","text":"prompt TRUE (default interactive), prompt consent giving information proposed modifications appear screen asking user choose apply changes . quiet TRUE, messages issued unless prompt = TRUE. defaults opposite prompt. rebuild new value sandpaper.package_cache_trigger global option. Setting TRUE result materials rebuilt new records enter package cache lockfile even source files changed. Setting FALSE return default state, rebuld source files changed. default NULL, nothing.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Give Consent to Use Package Cache — use_package_cache","text":"nothing. used side-effect value getOption(\"sandpaper.package_cache_trigger\") FALSE, unset.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"background","dir":"Reference","previous_headings":"","what":"Background","title":"Give Consent to Use Package Cache — use_package_cache","text":"default, sandpaper happily build lesson using packages available default R library, can undesirable couple reasons: may different version lesson package used lesson website, may result strange errors, warnings, incorrect output. might cautious updating components current R infrastructure work depends correct package versions installed. alleviate concerns, sandpaper uses renv package generate lesson-specific library package versions pinned lesson authors choose update . designed minimally-invasive, using packages already downloading external repositories necessary.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"what-if-i-have-used-renv-before-","dir":"Reference","previous_headings":"","what":"What if I have used renv before?","title":"Give Consent to Use Package Cache — use_package_cache","text":"used renv past, need give consent use cache.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"how-do-i-turn-off-the-feature-temporarily-","dir":"Reference","previous_headings":"","what":"How do I turn off the feature temporarily?","title":"Give Consent to Use Package Cache — use_package_cache","text":"turn feature can use no_package_cache(). sandpaper respect option building lesson use global library instead.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"i-have-used-renv-before-how-do-i-turn-it-off-before-sandpaper-loads-","dir":"Reference","previous_headings":"","what":"I have used renv before; how do I turn it off before sandpaper loads?","title":"Give Consent to Use Package Cache — use_package_cache","text":"can set options(sandpaper.use_renv = FALSE) loading sandpaper.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/package_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Give Consent to Use Package Cache — use_package_cache","text":"","code":"if (!getOption(\"sandpaper.use_renv\") && interactive()) {   # The first time you set up {renv}, you will need permission   use_package_cache(prompt = TRUE)   # The package cache trigger is FALSE, by default   default <- package_cache_trigger()   # You can set this to `TRUE` when you update packages with `update_cache()`   package_cache_trigger(TRUE)   # set the trigger back to its former state   package_cache_trigger(default) }  if (getOption(\"sandpaper.use_renv\") && interactive()) {   # If you have previously used {renv}, permission is implied   use_package_cache(prompt = TRUE)    # You can temporarily turn this off   no_package_cache()   getOption(\"sandpaper.use_renv\") # should be FALSE   use_package_cache(prompt = TRUE) }"},{"path":"https://carpentries.github.io/sandpaper/reference/render_html.html","id":null,"dir":"Reference","previous_headings":"","what":"Render html from a markdown file — render_html","title":"Render html from a markdown file — render_html","text":"uses rmarkdown::pandoc_convert() render HTML markdown file. specified pandoc extensions align features desired Carpentries markdown_in_html_blocks, tex_math_dollars, native_divs.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/render_html.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Render html from a markdown file — render_html","text":"","code":"render_html(path_in, ..., quiet = FALSE)"},{"path":"https://carpentries.github.io/sandpaper/reference/render_html.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Render html from a markdown file — render_html","text":"path_in path markdown file ... extra options (e.g. lua filters) passed pandoc quiet TRUE, output produced. Default FALSE, reports markdown build via pandoc","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/render_html.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Render html from a markdown file — render_html","text":"character containing rendred HTML file","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/render_html.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Render html from a markdown file — render_html","text":"","code":"if (rmarkdown::pandoc_available(\"2.11\")) { # first example---markdown to HTML tmp <- tempfile() ex <- c(\"# Markdown\",    \"\",    \"::: challenge\",    \"\",    \"How do you write markdown divs?\",   \"\",    \":::\" ) writeLines(ex, tmp) cat(sandpaper:::render_html(tmp))  # adding a lua filter  lua <- tempfile() lu <- c(\"Str = function (elem)\", \"  if elem.text == 'markdown' then\", \"    return pandoc.Emph {pandoc.Str 'mowdrank'}\", \"  end\", \"end\") writeLines(lu, lua) lf <- paste0(\"--lua-filter=\", lua) cat(sandpaper:::render_html(tmp, lf)) }"},{"path":"https://carpentries.github.io/sandpaper/reference/renv_diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a diagnostics report for the package cache — renv_diagnostics","title":"Print a diagnostics report for the package cache — renv_diagnostics","text":"Print diagnostics report package cache","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/renv_diagnostics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a diagnostics report for the package cache — renv_diagnostics","text":"","code":"renv_diagnostics(path = \".\", profile = \"lesson-requirements\")"},{"path":"https://carpentries.github.io/sandpaper/reference/renv_diagnostics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a diagnostics report for the package cache — renv_diagnostics","text":"path path lesson use diagnostics profile profile work (defaults \"lesson-requirements\"","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/renv_lockfile_hash.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the hash for the previous and current lockfile (as recorded in the lesson) — renv_lockfile_hash","title":"Get the hash for the previous and current lockfile (as recorded in the lesson) — renv_lockfile_hash","text":"Get hash previous current lockfile (recorded lesson)","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/renv_lockfile_hash.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the hash for the previous and current lockfile (as recorded in the lesson) — renv_lockfile_hash","text":"","code":"renv_lockfile_hash(path, db_path, profile = \"lesson-requirements\")"},{"path":"https://carpentries.github.io/sandpaper/reference/renv_lockfile_hash.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the hash for the previous and current lockfile (as recorded in the lesson) — renv_lockfile_hash","text":"path path lesson db_path path database profile name profile renv uses lesson requirements","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/renv_lockfile_hash.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the hash for the previous and current lockfile (as recorded in the lesson) — renv_lockfile_hash","text":"named list: old: hash value recoreded database new: hash value current file","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reserved_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter reserved files from the built db — reserved_db","title":"Filter reserved files from the built db — reserved_db","text":"Filter reserved files built db","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reserved_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter reserved files from the built db — reserved_db","text":"","code":"reserved_db(db)"},{"path":"https://carpentries.github.io/sandpaper/reference/reserved_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter reserved files from the built db — reserved_db","text":"db database get_built_db()","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reserved_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter reserved files from the built db — reserved_db","text":"data frame, bit shorter","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/reset_episodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the schedule in the lesson — reset_episodes","title":"Clear the schedule in the lesson — reset_episodes","text":"Clear schedule lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reset_episodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the schedule in the lesson — reset_episodes","text":"","code":"reset_episodes(path = \".\")"},{"path":"https://carpentries.github.io/sandpaper/reference/reset_episodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the schedule in the lesson — reset_episodes","text":"path path lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reset_episodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the schedule in the lesson — reset_episodes","text":"NULL, invisibly","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reset_episodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the schedule in the lesson — reset_episodes","text":"","code":"tmp <- tempfile() create_lesson(tmp) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a419caab9c... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a419caab9c/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a419caab9c... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a419caab9c... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a419caab9c #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a419caab9c... #> /tmp/Rtmpe2ZTPf/file37a419caab9c get_episodes(tmp) # produces warning #> ℹ No schedule set, using Rmd files in episodes/ directory. #> → To remove this message, define your schedule in config.yaml or use `set_episodes()` to generate it. #> [1] \"01-introduction.Rmd\" set_episodes(tmp, get_episodes(tmp), write = TRUE) #> ℹ No schedule set, using Rmd files in episodes/ directory. #> → To remove this message, define your schedule in config.yaml or use `set_episodes()` to generate it. get_episodes(tmp) # no warning #> [1] \"01-introduction.Rmd\" reset_episodes(tmp) get_episodes(tmp) # produces warning again because there is no schedule #> ℹ No schedule set, using Rmd files in episodes/ directory. #> → To remove this message, define your schedule in config.yaml or use `set_episodes()` to generate it. #> [1] \"01-introduction.Rmd\""},{"path":"https://carpentries.github.io/sandpaper/reference/reset_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove all files associated with the site — reset_site","title":"Remove all files associated with the site — reset_site","text":"Use want rebuild site scratch.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reset_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove all files associated with the site — reset_site","text":"","code":"reset_site(path = \".\")"},{"path":"https://carpentries.github.io/sandpaper/reference/reset_site.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove all files associated with the site — reset_site","text":"path path site","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/reset_site.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove all files associated with the site — reset_site","text":"","code":"tmp <- tempfile() create_lesson(tmp) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a47d730aa1... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a47d730aa1/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a47d730aa1... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a47d730aa1... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a47d730aa1 #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a47d730aa1... #> /tmp/Rtmpe2ZTPf/file37a47d730aa1 if (rmarkdown::pandoc_available(\"2.11\"))   build_lesson(tmp, preview = FALSE) dir(file.path(tmp, \"site\")) #> [1] \"DESCRIPTION\"   \"README.md\"     \"_pkgdown.yaml\" \"built\"         reset_site(tmp) dir(file.path(tmp, \"site\")) #> [1] \"DESCRIPTION\"   \"README.md\"     \"_pkgdown.yaml\" \"built\""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sandpaper: Create and Curate Carpentries Lessons — sandpaper-package","title":"sandpaper: Create and Curate Carpentries Lessons — sandpaper-package","text":"provide tools build Carpentries-themed lesson repository accessible standalone static website. include local tools designed used continuous integration context lesson author needs focus writing content actual lesson.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sandpaper: Create and Curate Carpentries Lessons — sandpaper-package","text":"Maintainer: Zhian N. Kamvar zkamvar@carpentries.org (ORCID) contributors: François Michonneau francois@carpentries.org [contributor]","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Options — sandpaper.options","title":"Global Options — sandpaper.options","text":"documentation options","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Global Options — sandpaper.options","text":"2022-02-22, several options used sandpaper may manipulated user. set may change future, description options set startup:","code":"option(\"sandpaper.handout\" = TRUE) option(\"sandpaper.show_draft\" = TRUE) option(\"sandpaper.links\" = NULL) option(\"sandpaper.use_renv\" = FALSE) option(\"sandpaper.package_cache_trigger\" = FALSE) option(\"sandpaper.test_fixture\" = NULL)"},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"sandpaper-handout","dir":"Reference","previous_headings":"","what":"sandpaper.handout","title":"Global Options — sandpaper.options","text":"Default: FALSE option instructs sandpaper create handout RMarkdown files via pegboard, uses knitr::purl() background removing everything challenges (without solutions) code blocks purl = TRUE.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"sandpaper-show-draft","dir":"Reference","previous_headings":"","what":"sandpaper.show_draft","title":"Global Options — sandpaper.options","text":"Default: TRUE user messages. TRUE, message episodes draft status (.e. episodes folder, schedule) printed get_drafts(). Setting option FALSE turn feature.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"sandpaper-links","dir":"Reference","previous_headings":"","what":"sandpaper.links","title":"Global Options — sandpaper.options","text":"Default: NULL option provides way override default place links sandpaper lesson. NULL file called links.md top repository, appended bottom page rendered HTML.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"sandpaper-use-renv","dir":"Reference","previous_headings":"","what":"sandpaper.use_renv","title":"Global Options — sandpaper.options","text":"Default: variable option modified user. determines renv used locally R-based lessons. set use_package_cache() unset no_package_cache(). local user never consented using renv previously, defaults FALSE, renv previously used, TRUE.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"sandpaper-package-cache-trigger","dir":"Reference","previous_headings":"","what":"sandpaper.package_cache_trigger","title":"Global Options — sandpaper.options","text":"Default: FALSE locally/TRUE GitHub tells R Markdown lessons rebuild everything renv lockfile changes.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper.options.html","id":"sandpaper-test-fixture","dir":"Reference","previous_headings":"","what":"sandpaper.test_fixture","title":"Global Options — sandpaper.options","text":"Default: NULL internal use testing interactive components non-interactively setting renv behave correctly testing.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Site generator for sandpaper — sandpaper_site","title":"Site generator for sandpaper — sandpaper_site","text":"custom site generator compatibility rmarkdown::site_generator(). RStudio users, placing index.md yaml header make knit button work:","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Site generator for sandpaper — sandpaper_site","text":"","code":"sandpaper_site(input = \".\", ...)"},{"path":"https://carpentries.github.io/sandpaper/reference/sandpaper_site.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Site generator for sandpaper — sandpaper_site","text":"automatically added index.md sandpaper sites version 0.0.0.9013, maintainers need worry . Thanks goes Yihui Xie coming concept modular site generators JJ Alaire allowing sub-directory structures RMarkdown sites.","code":"site: sandpaper::sandpaper_site"},{"path":"https://carpentries.github.io/sandpaper/reference/serve.html","id":null,"dir":"Reference","previous_headings":"","what":"Build your lesson and work on it at the same time — serve","title":"Build your lesson and work on it at the same time — serve","text":"function serve lesson auto-update whenever save file. s","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/serve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build your lesson and work on it at the same time — serve","text":"","code":"serve(path = \".\")"},{"path":"https://carpentries.github.io/sandpaper/reference/serve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build your lesson and work on it at the same time — serve","text":"path path lesson. Defaults current path.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/serve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build your lesson and work on it at the same time — serve","text":"output servr::httw(), invisibly. mainly used side-effect","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/serve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build your lesson and work on it at the same time — serve","text":"","code":"if (FALSE) {  # create an example lesson   tmp <- tempfile()  create_lesson(tmp, open = FALSE)    # open the episode for editing  file.edit(fs::path(tmp, \"episodes\", \"01-introduction.Rmd\"))   # serve the lesson and begin editing the file. Watch how the file will  # auto-update whenever you save it.   sandpaper::serve() }"},{"path":"https://carpentries.github.io/sandpaper/reference/set_dropdown.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the order of items in a dropdown menu — set_dropdown","title":"Set the order of items in a dropdown menu — set_dropdown","text":"Set order items dropdown menu","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/set_dropdown.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the order of items in a dropdown menu — set_dropdown","text":"","code":"set_dropdown(path = \".\", order = NULL, write = FALSE, folder)  set_config(pairs = NULL, path = \".\", write = FALSE)  set_episodes(path = \".\", order = NULL, write = FALSE)  set_learners(path = \".\", order = NULL, write = FALSE)  set_instructors(path = \".\", order = NULL, write = FALSE)  set_profiles(path = \".\", order = NULL, write = FALSE)"},{"path":"https://carpentries.github.io/sandpaper/reference/set_dropdown.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the order of items in a dropdown menu — set_dropdown","text":"path path lesson. Defaults current directory. order files order presented (extension) write TRUE, schedule overwrite schedule current file. folder one four folders sandpaper recognises files listed order located: episodes, learners, instructors, profiles. pairs named character vector keys names new values contents","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/set_dropdown.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set the order of items in a dropdown menu — set_dropdown","text":"","code":"tmp <- tempfile() create_lesson(tmp, \"test lesson\") #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a44135e38a... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a44135e38a/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a44135e38a... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a44135e38a... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a44135e38a #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a44135e38a... #> /tmp/Rtmpe2ZTPf/file37a44135e38a # Change the title and License set_config(c(title = \"Absolutely Free Lesson\", license = \"CC0\"),   path = tmp,   write = TRUE ) #> ℹ Writing to /tmp/Rtmpe2ZTPf/file37a44135e38a/config.yaml #> → title: 'test lesson' -> title: 'Absolutely Free Lesson' #> → license: CC-BY 4.0 -> license: 'CC0' create_episode(\"using-R\", path = tmp) print(sched <- get_episodes(tmp)) #> ℹ No schedule set, using Rmd files in episodes/ directory. #> → To remove this message, define your schedule in config.yaml or use `set_episodes()` to generate it. #> [1] \"01-introduction.Rmd\" \"02-using-R.Rmd\"       # reverse the schedule set_episodes(tmp, order = rev(sched)) #> episodes: #> - 02-using-R.Rmd #> - 01-introduction.Rmd #>  # write it set_episodes(tmp, order = rev(sched), write = TRUE)  # see it get_episodes(tmp) #> [1] \"02-using-R.Rmd\"      \"01-introduction.Rmd\""},{"path":"https://carpentries.github.io/sandpaper/reference/set_globals.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the necessary common global variables for use in the varnish template. — set_globals","title":"Set the necessary common global variables for use in the varnish template. — set_globals","text":"enforce four global lists:","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/set_globals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the necessary common global variables for use in the varnish template. — set_globals","text":"","code":"set_globals(path)"},{"path":"https://carpentries.github.io/sandpaper/reference/set_globals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the necessary common global variables for use in the varnish template. — set_globals","text":"path path lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/set_globals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set the necessary common global variables for use in the varnish template. — set_globals","text":".resources, equivalent output get_source_list() this_metadata, contains metadata common lesson learner_globals navigation items learners instructor_globals namvigation items instructors things added: sidebar generated create_sidebar() learner instructor globals exception first element. \"\" dorpdown menu, created via create_resources_dropdown(). resources \"\", positioned mobile sidebar. {sandpaper,varnish,pegboard}_version package versions package.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/template.html","id":null,"dir":"Reference","previous_headings":"","what":"Template files — template_gitignore","title":"Template files — template_gitignore","text":"Use files templates sandpaper lesson","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Template files — template_gitignore","text":"","code":"template_gitignore()  template_episode()  template_links()  template_config()  template_conduct()  template_index()  template_license()  template_contributing()  template_setup()  template_pkgdown()  template_placeholder()  template_pr_diff()  template_sidebar_item()  template_metadata()"},{"path":"https://carpentries.github.io/sandpaper/reference/template.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Template files — template_gitignore","text":"character string path template within sandpaper repo.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/template.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Template files — template_gitignore","text":"","code":"cat(readLines(template_gitignore(), n = 6), sep = \"\\n\") #> # sandpaper files #> episodes/*html #> site/* #> !site/README.md #>  #> # History files"},{"path":"https://carpentries.github.io/sandpaper/reference/try_use_renv.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to use renv — try_use_renv","title":"Try to use renv — try_use_renv","text":"use sandpaper starts see user previously consented renv. problem renv::consent() throws TRUE user consented error :(","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/try_use_renv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to use renv — try_use_renv","text":"","code":"try_use_renv(force = FALSE)"},{"path":"https://carpentries.github.io/sandpaper/reference/try_use_renv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Try to use renv — try_use_renv","text":"force TRUE, consent forced TRUE, creating cache directory exist . Defaults FALSE, gently inquires consent.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/try_use_renv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Try to use renv — try_use_renv","text":"character vector","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/try_use_renv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Try to use renv — try_use_renv","text":"function wraps renv::consent() callr function transforms error FALSE. sets sandpaper.use_renv variable value check returns full text output FALSE (WELCOME message given someone uses renv first time) last line output TRUE (message either directory created consent already provided.)","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_github_workflows.html","id":null,"dir":"Reference","previous_headings":"","what":"Update github workflows — update_github_workflows","title":"Update github workflows — update_github_workflows","text":"function copies updates workflows run sandpaper.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_github_workflows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update github workflows — update_github_workflows","text":"","code":"update_github_workflows(   path = \".\",   files = \"\",   overwrite = TRUE,   clean = \"*.yaml\",   quiet = FALSE )"},{"path":"https://carpentries.github.io/sandpaper/reference/update_github_workflows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update github workflows — update_github_workflows","text":"path path current lesson. files files include update. Defaults empty string, update files overwrite TRUE (default), file(s) overwritten. clean glob files cleaned writing. Defaults \"*.yaml\".  remove files four-letter \"yaml\" extension (remove \".yml\" extension). can also specify whole file name like \"workflow.yaml\" remove one specific file. want clean, set NULL. quiet TRUE, process output messages, default FALSE, report progress step.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_github_workflows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update github workflows — update_github_workflows","text":"paths new files.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_varnish.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the local version of the carpentries style — update_varnish","title":"Update the local version of the carpentries style — update_varnish","text":"Update local version carpentries style","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_varnish.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the local version of the carpentries style — update_varnish","text":"","code":"update_varnish(version = NULL, ...)"},{"path":"https://carpentries.github.io/sandpaper/reference/update_varnish.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the local version of the carpentries style — update_varnish","text":"version NULL, update latest version, otherwise, can version string identify specific version use. ... arguments passed utils::install.packages()","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_varnish.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update the local version of the carpentries style — update_varnish","text":"NULL, invisibly","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/update_varnish.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Update the local version of the carpentries style — update_varnish","text":"requires internet connection","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":null,"dir":"Reference","previous_headings":"","what":"Pre-build validation of lesson elements — validate_lesson","title":"Pre-build validation of lesson elements — validate_lesson","text":"validator based pegboard::Lesson class cached this_lesson() provide line reports fenced divs, links, images, heading structure. details type validators avaliable, see pegboard article Validation Lesson Elements","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pre-build validation of lesson elements — validate_lesson","text":"","code":"validate_lesson(path = \".\", headings = FALSE, quiet = FALSE)"},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pre-build validation of lesson elements — validate_lesson","text":"path path lesson. Defaults ot current directory headings TRUE, headings checked validated. Currently set FALSE re-investigating false positives. quiet TRUE, messages issued, otherwise progress messages issued test","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pre-build validation of lesson elements — validate_lesson","text":"list results test described pegboard::Lesson","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"headings","dir":"Reference","previous_headings":"","what":"Headings","title":"Pre-build validation of lesson elements — validate_lesson","text":"expect headings semantic informative. Details tests headings can found pegboard::validate_headings()","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"internal-links-and-images","dir":"Reference","previous_headings":"","what":"Internal Links and Images","title":"Pre-build validation of lesson elements — validate_lesson","text":"Internal links images exist images alt text. Details tests can found pegboard::validate_links()","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"fenced-divs-callout-blocks-","dir":"Reference","previous_headings":"","what":"Fenced Divs (callout blocks)","title":"Pre-build validation of lesson elements — validate_lesson","text":"Callout Blocks one expected types. Details test can found pegboard::validate_divs()","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/validate_lesson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pre-build validation of lesson elements — validate_lesson","text":"","code":"tmp <- tempfile() lsn <- create_lesson(tmp, open = FALSE) #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a45eb3598c... #> ✔ First episode created in /tmp/Rtmpe2ZTPf/file37a45eb3598c/episodes/01-introduction.Rmd #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a45eb3598c... #> ℹ Workflows up-to-date! #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a45eb3598c... #> ✔ Lesson successfully created in /tmp/Rtmpe2ZTPf/file37a45eb3598c #> → Creating Lesson in /tmp/Rtmpe2ZTPf/file37a45eb3598c... validate_lesson(lsn, headings = TRUE) #> ── Validating Headings ───────────────────────────────────────────────── #> ── Validating Fenced Divs ────────────────────────────────────────────── #> ── Validating Internal Links and Images ────────────────────────────────"},{"path":"https://carpentries.github.io/sandpaper/reference/work_with_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"(Experimental) Work with the package cache — work_with_cache","title":"(Experimental) Work with the package cache — work_with_cache","text":"function designed can work lesson inside package cache without overwriting personal library.","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/work_with_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Experimental) Work with the package cache — work_with_cache","text":"","code":"work_with_cache(profile = \"lesson-requirements\")"},{"path":"https://carpentries.github.io/sandpaper/reference/work_with_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Experimental) Work with the package cache — work_with_cache","text":"function reset R environment original state","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/work_with_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"(Experimental) Work with the package cache — work_with_cache","text":"","code":"if (interactive() && fs::dir_exists(\"episodes\")) {   library(\"sandpaper\")   done <- work_with_cache()   print(.libPaths())   # install.packages(\"cowsay\") # install cowsay to your lesson cache   # cowsay::say() # hello world   # detach('package:cowsay') # detach the package from your current session   done() # finish the session    # try(cowsay::say()) # this fails because it's not in your global library   print(.libPaths()) }"},{"path":"https://carpentries.github.io/sandpaper/reference/yaml_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","title":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","text":"Create valid, opinionated yaml list insertion whisker template","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/yaml_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","text":"","code":"yaml_list(thing)"},{"path":"https://carpentries.github.io/sandpaper/reference/yaml_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","text":"thing vector list","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/yaml_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","text":"character vector want manipulate config file command line preserve comments. Unfortunately, yaml C library parse comments makes things difficult handle. moment hack use whisker templates , drawback whisker know handle lists, concatenates commas:    Moreover, want indicate yaml list single key/value pair want enforce converts elements yaml list enters whisker makes sure values clearly lists.","code":"x <- c(\"a\", \"b\", \"c\") hx <- list(hello = x) cat(yaml::as.yaml(hx)) # representation in yaml ## hello: ## - a ## - b ## - c cat(whisker::whisker.render(\"hello: {{hello}}\", hx)) # messed up whisker ## hello: a,b,c key: - value1 key: value1 hx[[\"hello\"]] <- sandpaper:::yaml_list(hx[[\"hello\"]]) cat(whisker::whisker.render(\"hello: {{hello}}\", hx)) # good whisker ## hello:  ## - a ## - b ## - c"},{"path":"https://carpentries.github.io/sandpaper/reference/yaml_list.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","text":"better solution hack, now, keep okay purposes: https://github.com/rstudio/blogdown/issues/560","code":""},{"path":"https://carpentries.github.io/sandpaper/reference/yaml_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a valid, opinionated yaml list for insertion into a whisker template — yaml_list","text":"","code":"x <- c(\"a\", \"b\", \"c\") hx <- list(hello = x) cat(yaml::as.yaml(hx)) # representation in yaml #> hello: #> - a #> - b #> - c cat(whisker::whisker.render(\"hello: {{hello}}\", hx)) # messed up whisker #> hello: a,b,c hx[[\"hello\"]] <- sandpaper:::yaml_list(hx[[\"hello\"]]) cat(whisker::whisker.render(\"hello: {{hello}}\", hx)) # good whisker #> hello:  #> - a #> - b #> - c"},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.3.0","text":"Common links markdown lessons can included via file top lesson called links.md. file exists, concatenated markdown file rendered HTML. Thanks @sstevens2 bringing feature (@zkamvar, #257) create_lesson() now includes links.md main directory. new help page called ?sandpaper.options provides documentation global options used sandpaper lesson (subject change).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-2-0","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.2.0","text":"validate_lesson() perform checks links fenced divs lesson. now included calls build_lesson(), ci_deploy() serve() (@zkamvar, #255)","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"dependencies-0-2-0","dir":"Changelog","previous_headings":"","what":"DEPENDENCIES","title":"sandpaper 0.2.0","text":"minimum pegboard version now 0.2.0","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"sandpaper 0.2.0","text":"internal function this_lesson() now properly invalidate reset change commit (e.g. lesson build switched).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-1-6","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.1.6","text":"set_dropdown() longer fails {cli} version 3.2.0","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"internal-0-1-5","dir":"Changelog","previous_headings":"","what":"INTERNAL","title":"sandpaper 0.1.5","text":"metadata now processed consistently across page types, first foremost reduces code complexity, second, allows rapid development future page types. instances, result marginal improvement build times, likely noticable.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-1-4","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.1.4","text":"sandpaper::build_lesson() longer creates infinite loop called sandpaper::serve() (@zkamvar, #247)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-1-3","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.1.3","text":"Clarify license information specify copyright held Carpentries","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-1-2","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.1.2","text":"invalid sitemaps fixed correct namespace include slash site name. test requring pandoc 2.11 suppressed systems without version pandoc.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"dependencies-0-1-1","dir":"Changelog","previous_headings":"","what":"DEPENDENCIES","title":"sandpaper 0.1.1","text":"{pegboard} package now required 0.1.0 greater due fix generating keypoints page (https://github.com/carpentries/pegboard/pull/76)","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"metadata-0-1-1","dir":"Changelog","previous_headings":"","what":"METADATA","title":"sandpaper 0.1.1","text":"metadata included lesson footer now correctly states @type TrainingMaterial (@zkamvar, #236) basic sitemap now constructed lesson (@zkamvar, #243)","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-1-1","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.1.1","text":"Empty pages longer throw errors rendering included output (@zkamvar, #237)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fixes-0-1-0","dir":"Changelog","previous_headings":"","what":"BUG FIXES","title":"sandpaper 0.1.0","text":"internal function render_html() now passes --preserve-tabs parameter prevent pandoc removing educationally relevant information lessons. rebuilding lesson ci_deploy(..., rebuild = TRUE), detritus lesson site cleaned (@zkamvar, #91).","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"breaking-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"BREAKING CHANGES","title":"sandpaper 0.1.0","text":"Add support updated frontend {varnish}. means need varnish 0.1.0 installed order use update. change includes modifications lua filters along general handling HTML elements means older versions varnish cease work. code blocks longer contain package links. links may handy sighted users explore documentation, may represent objstructions users rely screen-readers.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"instructor-view-0-1-0","dir":"Changelog","previous_headings":"","what":"INSTRUCTOR VIEW","title":"sandpaper 0.1.0","text":"now two views lesson: instructor view learner view. biggest difference instructor view gains instructor-note sections (exist). Static pages view. means can toggle pages without needing javascript. Removed timings learner view (avoid discouraging learners) Setup page replaces schedule index page additional buttons included instructor view yet work, work point! downside moment building lesson takes bit longer due fact now render two pages change.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"navigation-0-1-0","dir":"Changelog","previous_headings":"","what":"NAVIGATION","title":"sandpaper 0.1.0","text":"persistant sidebar links main content lesson present pages lesson. navigation bar prioritise items used frequently respective audiences: Learners: Key Points, Glossary, Learner Profiles, “Additional Information” (dropdown) Instructors: Key Points, Instructor Notes, Extract Images, “” (dropdown)","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-1-0","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.1.0","text":"build database now gains “date” column indicate date file last rendered markdown. allows “last updated ” better reflect state contents rendered files. default configuration file now includes keywords: item can place comma-separated list keywords include site’s metadata configuration file now also includes example provisioned navigation looks like default episode template now refers correct documentation links provides examples represent code blocks evaluated. setup page now contains structured example setup page shows provide dropdown menus different operating systems (@zkamvar, #28). user github PAT can detect name repository git setup, source goes example.com link.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9075","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9075","text":"Episodes missing timing metadata longer fail also contain questions objectives blocks. (@zkamvar, #222).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9074","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9074","text":"Internal function renv_cache_available() continues work {renv} 0.15.0. new version {renv} changed default value configuration setting system cache logical NULL, casued logical operation fail. (@zkamvar, #223)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"dependency-update-0-0-0-9073","dir":"Changelog","previous_headings":"","what":"DEPENDENCY UPDATE","title":"sandpaper 0.0.0.9073","text":"{renv} pinned version 0.14.0 version 0.13.2 throw error checking consent.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-function-0-0-0-9072","dir":"Changelog","previous_headings":"","what":"NEW FUNCTION","title":"sandpaper 0.0.0.9072","text":"serve() now allows work lesson automatically rebuild whenever save files disk.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-dependencies-0-0-0-9072","dir":"Changelog","previous_headings":"","what":"NEW DEPENDENCIES","title":"sandpaper 0.0.0.9072","text":"{servr} now used serve() function.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-feature-0-0-0-9071","dir":"Changelog","previous_headings":"","what":"NEW FEATURE","title":"sandpaper 0.0.0.9071","text":"Lesson blocks now treated blocks. placeholder us better test separation lesson veiw default learner view.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9070","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9070","text":"Lessons readonly zlib compressed files (read: git objects) can now websites built. (@zkamvar, #214)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9069","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9069","text":"build_handout() now officially exported function. pkgdown documentation updated","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9068","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9068","text":"Workflows updated use ubuntu-latest instead macOS-11. macOS runners often ~ 1 minute faster ubuntu runners, tradeoff potential failures packages available binary versions need compilation external C libraries (along runs failing due brew timeouts). update coincides update github actions, now check install ubuntu dependencies updating/installing packages. (@zkamvar, #184)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9067","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9067","text":"situation git fail remove everything fixed (#206, @zkamvar) Addressed CLI failures due glue version 1.5.0 (https://github.com/r-lib/cli/issues/370#issuecomment-965496848)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"api-change-0-0-0-9066","dir":"Changelog","previous_headings":"","what":"API CHANGE","title":"sandpaper 0.0.0.9066","text":"set_config() now takes named vector/list instead pair vectors.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9065","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9065","text":"set_config() set singular items configuration file (@zkamvar, #193)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9064","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9064","text":"Package discovery now respects lesson environment, unfixed 0.0.0.9063","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9063","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9063","text":"package cache can now built external {renv} environments (@zkamvar, #197).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9062","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9062","text":"New lessons specify custom titles reflected config file (@zkamvar, #195).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9061","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9061","text":"lessons colons title now correctly processed (@zkamvar, #192) code injection yaml now protected setting eval.expr = FALSE yaml parsing calls.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9060","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9060","text":"title lesson now appear index page.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9060","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9060","text":"translation script longer lives lesson repo moved (modified) https://data-lessons/lesson-transition/","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9059","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9059","text":"scheduler update-cache.yaml fixed run strictly first Tuesday month instead first seven days month Tuesdays.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9058","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9058","text":"update-cache.yaml simplified pull carpentries/actions repository now updates packages previously included lockfile (#185).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9057","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9057","text":"update-cache.yaml fixed regression introduced 4b8b14d088d03a8a9c6c90e974bb53c35691fb49 workflow run check repository beforehand.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9056","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9056","text":"update_github_workflows() now sets clean = \"*.yaml\" default align behavior GitHub workflow prevent stale workflows present repository. (#181, @zkamvar)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9055","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9055","text":"sandpaper-main.yaml pr-receive.yaml simplified using composite actions hosted carpentries/actions/setup-sandpaper carpentries/actions/setup-deps. caching mechanism R packages package cache can now reset modifying per-repository secret called CACHE_VERSION.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9055","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9055","text":"bug introduced 0.0.0.9054 dependencies discovered fixed.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9054","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9054","text":"manage_deps() runs slightly faster now longer runs renv::hydrate() new packages added lesson.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9053","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9053","text":"setting option(sandpaper.handout = TRUE) create code handout R lessons live /files/code-handout.R site.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9053","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9053","text":"internal caching mechanism added pegboard::Lesson objects use extracting components syllabus handout. See ?lesson_storage details.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9052","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9052","text":"pr-receive.yaml fixed spelling. pr-receive.yaml changed short-cut invalid PR messages longer build lesson PR invalid. Instead, emit warning message without building artifacts. pr-comment.yaml longer fail artifacts exist (cause extraneous emails users).","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"documentation-0-0-0-9052","dir":"Changelog","previous_headings":"","what":"DOCUMENTATION","title":"sandpaper 0.0.0.9052","text":"Documentation test fixtures improved include branch functions.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9051","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9051","text":"template pull request message reverts back two-dot diff notation branches, temporary #169 can addressed. Linebreaks within paragraphs removed avoid github formatting linebreaks.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009050","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9050","title":"sandpaper 0.0.0.9050","text":"update {sandpaper} brings dependency management lessons generated content make collaboration lessons much easier less invasive establishing package cache lockfile via {renv} R package.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"introduction-0-0-0-9050","dir":"Changelog","previous_headings":"DEPENDENCY MANAGEMENT","what":"Introduction","title":"sandpaper 0.0.0.9050","text":"use {renv} package controlling dependency management lesson, contained {renv} profile called “lesson-requirements”. implemented profile instead default {renv} environment give maintainers flexibility whether want use package cache.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"consent-for-using-the-package-cache-0-0-0-9050","dir":"Changelog","previous_headings":"DEPENDENCY MANAGEMENT","what":"Consent for Using the Package Cache","title":"sandpaper 0.0.0.9050","text":"getOption('sandpaper.use_renv') set {sandpaper} loads detect contributor previously consented use {renv} package. TRUE, lesson use package cache, otherwise, lesson use default library. use_package_cache() give consent {sandpaper} create use package cache via {renv}. Internally, enforces options(sandpaper.use_renv = TRUE). no_package_cache() opposite use_package_cache() revokes consent use package cache lesson temporarily. can useful situtations cache mis-behaving want test lesson using newer set packages. Internally, enforces options(sandpaper.use_renv = FALSE). package_cache_trigger(TRUE) allows trigger full rebuild lockfile changes. set TRUE default ci_build_markdown()","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"managing-the-package-cache-0-0-0-9050","dir":"Changelog","previous_headings":"DEPENDENCY MANAGEMENT","what":"Managing the Package Cache","title":"sandpaper 0.0.0.9050","text":"manage_deps() new function manage dependencies lesson. called create_lesson() build_markdown() ensure correct dependencies lesson installed. explicitly calls use_package_cache() runs. update_cache() bring updates lesson cache. pin_version() pin packages specific version, allowing authors upgrade downgrade packages .","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9050","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9050","text":"create_lesson() now additionally create {renv} profile called “packages” lesson repository getOption('sandpaper.use_renv') TRUE. make lesson portable. index README files can now Rmd files (though recommended use .renvignore files avoid {sandpaper} becoming part package cache). internal function ci_deploy() set sandpaper.use_renv option TRUE build_markdown() thus build_lesson() now cache config.yaml renv.lock. longer step build process markdown files need rebuilt. cause project built previous versions sandpaper fully rebuilt. sandpaper_site() (thus, build_lesson()) now can take single file rendering render specific file regardless present cache without rendering files. addresses #77. (n.b. involved changes build_markdown(), build_site(), build_status()). varnish_vars() list contains commonly used variables lesson can contained config.yaml build_episode() build_home() now supply default variables varnish.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continous-integration-0-0-0-9050","dir":"Changelog","previous_headings":"","what":"CONTINOUS INTEGRATION","title":"sandpaper 0.0.0.9050","text":"unexported function ci_deploy() now automatically check set git user email. sandpaper-main.yaml pr-receive.yaml updated include {renv} cache, skip steps markdown lessons. update-cache.yaml new workflow update package cache lockfile create pull request trigger new builds lesson uses {renv}. update-workflows.yaml now produces informative instructions creating repository secret.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9050","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9050","text":"{callr} functions made non-anonymous moved separate file tested independently.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9050","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9050","text":"changes config.yaml now reflected lesson site without rebuilding (fixes #75) knitr option root.dir set output directory avoid generated content entering source.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009049","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9049","title":"sandpaper 0.0.0.9049","text":"placeholder testing 0.0.0.9050.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9048","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9048","text":"pandoc lua filter longer errors raw div HTML elements class (@zkamvar, #166)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9047","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9047","text":"update-workflows.yaml workflow now checks SANDPAPER_WORKFLOW secret valid. , provides instructions creating new secret.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9046","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9046","text":"Weekly run pull requests now default “weekly run” “triggered pull request”","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9045","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9045","text":"Weekly run added workflows action Actions updated reflect zkamvar -> carpenteries repository transfer (@zkamvar, #156)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"contiuous-integration-0-0-0-9044","dir":"Changelog","previous_headings":"","what":"CONTIUOUS INTEGRATION","title":"sandpaper 0.0.0.9044","text":"update-workflow.yaml parameters fixed use wildcards","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9044","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9044","text":"update_github_workflows() gains clean argument now print status reports end.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9043","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9043","text":"update-workflow.yaml workflow updated use github action hosted zkamvar/actions (soon transferred Carpentries account names actions displayed GitHub updated descriptive. script inst/scripts/update-workflows.sh removed favor github action.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9042","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9042","text":"experimental update-workflow.yaml workflow created create pull request update workflows. still experimental requires scoped repo scope, , nevertheless, concept currently valid.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9041","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9041","text":"fetch_github_workflows() renamed update_github_workflows() github workflows longer downloaded external source; now live inst/workflows. reduce internet connection requirements setting lesson testing sandpaper. create_lesson() now reports progress goes along tests updated use fixtures","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9040","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9040","text":"ci_deploy() gains reset argument, can used clear cache clean build lesson. ci_deploy() now uses ci_build_markdown() ci_build_site(), internally","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9039","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9039","text":"ci_session_info() report session information, help clean workflow files.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9038","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9038","text":"Fix broken deploy process continuous integration caused attempting fetch branches shallow clone (@zkamvar, #142)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9037","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9037","text":"Output ci_bundle_pr_artifacts() longer escapes HTML-like output diff summary. remove {xml2} explicit dependencies","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9036","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9036","text":"Documentation git_worktree_setup() added future versions maintainer future contributors. ci_bundle_pr_artifacts() new internal function create artifacts GitHub upload upon receipt pull request. replace clunky shell code lived inside YAML configuration file. (@zkamvar, #139) add {brio} soft dependencies (testing, maybe speed ???)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"continuous-integration-0-0-0-9035","dir":"Changelog","previous_headings":"","what":"CONTINUOUS INTEGRATION","title":"sandpaper 0.0.0.9035","text":"Tests git operations added robust (@zkamvar, #137) new test fixtures local remote repository added aid git tests.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9034","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9034","text":"Authors can now cross-link files within lesson appear lesson instead trying guess link appear website. example, wanted reference learners/setup.md episodes/introduction.md, write [setup](../learners/setup.md) automatically converted correct URL website (#43). still backwards compatible previous iteration writing flattened link (appear website).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9033","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9033","text":"get_drafts() report markdown files currently published lesson. Draft alert notifications controlled \"sandpaper.show_draft\" option. turn messages, use options(sandpaper.show_draft = FALSE) set_dropdown() family functions now throw error author attempts add file exist error occurr files listed config.yaml exist lesson informative message highlighting files missing.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9032","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9032","text":"internal get_resource_list() function modified incorporate features get_dropdown(). means get_dropdown() functions report files dropdown menus actually exist directory (#134). persistant test fixture now included speed testing time (#132 via #134)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9031","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9031","text":"{cli} package now official import package warning message issued internal warn_schedule() function changed exclusively use cli messages can suppressed suppressMessages(). internal sandpaper_cli_theme() used style CLI messages.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9030","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9030","text":"test caused problems new version {pegboard} fixed","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9029","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9029","text":"internal database updated use relative instead absolute paths. fixes #129","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-imports-0-0-0-9028","dir":"Changelog","previous_headings":"","what":"NEW IMPORTS","title":"sandpaper 0.0.0.9028","text":"{pingr} package now imported check online access, marginally decrease data usage (@fmichonneau, #127).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9027","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9027","text":"create_schedule() (internal function) longer uses pegboard’s extensions fixing reference links.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"misc-0-0-0-9026","dir":"Changelog","previous_headings":"","what":"MISC","title":"sandpaper 0.0.0.9026","text":"callout blocks headers greater h3 now rendered properly longer forced h3 tests now clean longer change working directory default {varnish} version bumped 0.0.0.9005 tests require pandoc skipped pandoc available tests presences multiple files use setequal instead equal allow alternate sorting orders.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"dependency-update-0-0-0-9025","dir":"Changelog","previous_headings":"","what":"DEPENDENCY UPDATE","title":"sandpaper 0.0.0.9025","text":"required {pegboard} bumped version 0.0.0.9014 {renv} {sessioninfo} added Suggested packages.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9024","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9024","text":"create_lesson() now enforce “main” default branch (init.defaultBranch set) default branch new lesson. also try make URL match project name user name (latter limited users GitHub PAT set {gh} recognises).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9023","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9023","text":"build_episode_md() now sets knitr.pandoc.knit option allow chunk option fig.cap rendered caption. fixes #114.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9023","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9023","text":"set_dropdown() now generalized set item dropdown menu (though likely wrapped better-named function generalized editing). system.file(\"transform.R\", pacakge = \"sandpaper\") points file used transforming styles-repo era lessons sandpaper lessons. read/write cycles reduced markdown generation longer interfering manipulation files stage (haven’t now).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9022","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9022","text":"build_markdown(rebuild = TRUE) now actually rebuilds lesson Changing episode suffix longer result build error. due build_markdown() trying clean building output instead . ’s situation throwing baby bathwater. case, fixes #102.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9021","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9021","text":"template initialized folders placeholders inside instructor/ profile/ menus. fixes #103.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9020","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9020","text":"set_*() functions longer mess yaml lists config.yaml. fixes #53.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009019","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9019","title":"sandpaper 0.0.0.9019","text":"required version {pegboard} bumped 0.0.0.9012, gives better error messages allows us read {sandpaper} lessons Lesson object.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009018","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9018","title":"sandpaper 0.0.0.9018","text":"episode template rearranged slightly given level 2 headers.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"engine-update-0-0-0-9017","dir":"Changelog","previous_headings":"","what":"ENGINE UPDATE","title":"sandpaper 0.0.0.9017","text":"version pandoc explicitly checked ensure version used least 2.11.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9016","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9016","text":"create_episode() make_prefix = FALSE longer create episodes prefixed - (see #93).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9015","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9015","text":"fetch_github_workflows() download update GitHub workflows Carpentries actions repository. update_varnish() download update {varnish} styling package local repository.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9014","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9014","text":"Episode order retained HTML navigation (#85) index.md recorded site/build/ directory, thus md-pages branch deployment.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"engine-update-0-0-0-9014","dir":"Changelog","previous_headings":"","what":"ENGINE UPDATE","title":"sandpaper 0.0.0.9014","text":"caching mechanism now similar {blogdown} database source files checksum hashes kept updated files built. provides two advantages, first longer peek top files check need updated second can keep files right order (see #85) Importantly, workflow affected, changes gets displayed github diff md-outputs branch.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9013","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9013","text":"RStudio, knit button works 🎉 (fix #77; @zkamvar, #82) sandpaper_site() site generator function allows {rmarkdown} use {sandpaper} machinery build site rmarkdown::render_site() build_site() gains slug argument tailors previewed content. create_lesson() now create blank index.md site: sandpaper_site YAML item. HTML accidentally rendered source directories silently removed site built. (fix #78, @zkamvar, #84)","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"new-features-0-0-0-9012","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"sandpaper 0.0.0.9012","text":"Inline reference-based footnotes now supported.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9011","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9011","text":"Bare links text emoji (e.g. 😉) now rendered (fix #67). Objectives Questions headings now longer rendered (fix #64).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9010","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9010","text":"index.md exists top level, used instead README.md lesson index page (fix #56).","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9009","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9009","text":"lua filter responsible creating Objectives summary block beginning episodes now uses native pandoc divs instead HTML block shims. ensures content corrupted pandoc’s section divs extension. addresses issue #64 aside elements forced level 3 headers (fixes issue pandocs –section-divs couldn’t understand HTML block contained start aside tag decided end section right . Objectives Questions blocks longer include headers initial summary block. bug introduced version 0.0.0.9008 fixed. bug improperly used regex resulting accidental removal cached rendered images. fixes issue #49 Rendered images now prefix {SOURCE}-rendered- site/built/fig/ subdir.","code":""},{"path":[]},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"bug-fix-0-0-0-9008","dir":"Changelog","previous_headings":"","what":"BUG FIX","title":"sandpaper 0.0.0.9008","text":"files removed source now also removed site/built directory. fixes issue #47","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009007","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9007","title":"sandpaper 0.0.0.9007","text":"overview block constructed teaching exercises metadata question objectives blocks instructor callout divs converted <aside> tags divs without H2 level headers automatically inserted divs incorrect level headers converted H2 divs list carpentries divs converted README updated reflect API changes","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009006","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9006","title":"sandpaper 0.0.0.9006","text":"Continuous integration functions added: ci_deploy() build markdown source site commit separate branches, including information source. ci_build_markdown() build markdown source files commit separate branch, including information source commit. ci_build_site() build site directly markdown branch, bypassing re-rendering markdown files. Miscellaneous additions {dovetail} longer suggests new internal function build_site() compartmentalizes conversion markdown html files folders named .git episodes directory copied website.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009005","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9005","title":"sandpaper 0.0.0.9005","text":"CODE_OF_CONDUCT.md learners/Setup.md instructors/ profiles/ LICENSE.md _schedule() functions renamed _episodes(). clean_*() functions now renamed reset_*() Generic set/get/reset_dropdown() functions created facilitate modification/access folders dropdown menus inside lesson questionable practices directories mucking . build_markdown() now generate artifacts site/built/assets/ directory instead episodes/ directory prevent generated artifacts included git (See https://github.com/carpentries/sandpaper/issues/24)","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009004","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9004","title":"sandpaper 0.0.0.9004","text":"Internal html_from_md() renamed render_html() Internal build_episode() renamed build_episode_html() exported, documentation still internal Internal build_single_episode() renamed build_episode_md() exported, documentation still internal","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009003","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9003","title":"sandpaper 0.0.0.9003","text":"regression build_markdown() due called separate process fixed. Internal functions setting {knitr} options migrated live inside build_markdown()","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009002","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9002","title":"sandpaper 0.0.0.9002","text":"Migrate template use fenced divs instead {dovetail}. build_lesson() now render HTML episode titles. {callr} now imported protect processes building markdown HTML files.","code":""},{"path":"https://carpentries.github.io/sandpaper/news/index.html","id":"sandpaper-0009001","dir":"Changelog","previous_headings":"","what":"sandpaper 0.0.0.9001","title":"sandpaper 0.0.0.9001","text":"Add override argument build_lesson(). gets passed pkgdown::as_pkgdown() control site gets built. Update dependency {pegboard} 0.0.0.9006, includes $questions field make parsing ever shifting landscape bit easier. First tracking version NEWS","code":""}]
